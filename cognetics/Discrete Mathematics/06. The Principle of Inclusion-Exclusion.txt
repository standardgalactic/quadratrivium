Okay, I want you to begin by thinking of the numbers from one to a hundred.
And first question, how many of them are multiples of two?
How many even numbers among them?
Fifty, right?
Okay?
How many of them are multiples of three?
We got three, six, nine, twelve, fifteen, all the way up to ninety-nine.
We have thirty-three multiples of three.
How many of them are multiples of five?
Well, five goes into a hundred twenty times.
There are twenty multiples of five.
Okay, then how many multiples of two, three, or five?
How many numbers are a multiple of two, three, or five?
Would the answer be fifty plus thirty-three plus twenty, the sum of the numbers we just
obtained?
Well, no, because that's a hundred and three, and that's more than a hundred.
That's ridiculous.
But what was wrong with our argument?
Well, doesn't the rule of some say that when we have an or problem that we're supposed
to add, the problem is that some numbers are multiples of more than one of those numbers.
For instance, a number that's divisible by six would be divisible by two and three, or
a number that's divisible by thirty would be divisible by all those numbers, two, three,
and five.
So, some of those numbers got over counted.
The rule of some says that we can simply add our answers, provided that our lists do not
intersect.
So, remember what the rule of some says.
It says if an action is performed by making A choices or B other choices, then it can
be performed A plus B ways.
But what if our choices overlap?
For instance, if I was looking among the odd, the numbers from one to ten, there are five
odd numbers, one, three, five, seven, nine, and there are three multiples of three, three,
six, and nine.
How many ways can we choose a number that's odd or a multiple of three?
The answer is not five plus three equals eight, because those two sets overlap.
The correct answer would be five plus three minus two.
It would be six, since the numbers three and nine appear in both sets.
And you could check it out.
Six numbers that are odd or multiples of three are one, three, five, six, seven, and nine.
The rule of some can be stated more accurately using the language of sets.
So, let's say a few words about sets.
A set is a collection of objects.
For example, A could be the set one, two, three, and B could be the set two, three, five,
eight.
In a set, as we've seen before, the order is not important, so one, two, three is the
same as three, two, one.
Also, there are no repetitions in your sets.
Now, we talked about subsets earlier, and subsets are sets too.
I mean, here are some sets and subsets that we've seen before.
We've talked about, say, the set of students in a class, and their subset might be a committee
from that class.
Or we might think of the set of 52 cards in a deck, and we might be interested in counting
certain subsets of those 52 cards.
Or we might say the set of the numbers one through N, or the numbers one through a hundred,
and we're interested in looking at certain subsets of those numbers.
Like A and B are subsets of the set of numbers from one to a hundred, for instance.
So we combine sets in various interesting ways.
First of all, the union of two sets, denoted A union B, it's got that U symbol, is the
set of objects that occur in A or B, and when a mathematician says or, that includes the
possibility of both.
The intersection, denoted A intersect B, it looks like an upside down U, is the set
of objects that occur in A and B. So for example, with the set A being one, two, three, and
B being the set two, three, five, eight, then A union B, when I bring those sets together,
I get the elements one, two, three, five, and eight.
By the way, I don't list the element three twice because in a set, every object gets
listed at most once.
And similarly, A intersect B, that would be the set two, three, because the numbers two
and three appear in both of those sets.
Sometimes we represent sets using something called a Venn diagram, just kind of gives
a graphical image of what our set looks like.
So for instance here, the circle A represents the set one, two, three, the circle B represents
the set two, three, five, eight, you'll notice the points two and three lie in the intersection
of those circles, hence the name, that because two and three are in A intersect B. We can
graphically see when we shade those circles, that's what A union B looks like, that's
what A intersect B looks like.
If the sets A and B have no elements in common, that is, if A intersect B has nothing, then
we have a special name for that set, the set that contains nothing, it's called the empty
set.
And it's usually denoted by this symbol that kind of looks like a Greek letter phi, the
null symbol.
If A intersect B is empty, we say that the sets are mutually exclusive or disjoint.
For example, the set one, two, three and four, five, six, since they have nothing in common,
their intersection is empty, those sets are disjoint.
So far, most of the problems we've addressed in this course have been with disjoint sets.
One more piece of notation, we say the size of a set denoted by say, we take the set A
and we put two vertical lines around it, almost looks like an absolute value in other areas
of mathematics.
You might say, oh, it looks like you're saying the absolute value of A. In mathematics, any
time you see something that looks like the absolute value, it always represents the size
of that object.
So the size of A would be the number of elements in the set.
So for example, if A is the set one, two, three, then the size of A is three.
If B is the set two, three, five, eight, then the size of B is four.
Even the empty set has a size, the size of the empty set is zero.
So the rule of sum said more precisely in the language of sets says this, if A intersect
B is empty, then the size of A union B is the size of A plus the size of B. In other
words, if I have two circles here with points in them and those circles don't overlap at
all, then the total number of points is the number of points in A plus the number of points
in B. That's common sense.
So what if the sets are not disjoint?
That's the more interesting situation.
Then we say the size of A union B is the size of A plus the size of B minus the size of
A intersect B. You see why that's true, because if I'm looking at the union, I think that
I take the size of A, so everything in A gets counted, plus the size of B, so everything
in B gets counted, but then everything that's there in the intersection has been counted
twice.
So I have to subtract off the size of A intersect B so that everything gets counted exactly
once.
Okay, that makes pretty intuitive sense, but what if we have three sets?
What happens there?
Now things get interesting.
What should be the size of A union B union C?
Just like before, we'll start by taking the size of A plus the size of B plus the size
of C. Now some of those regions were counted once, but you'll notice that some regions,
like the region that is in the intersection of A and B but doesn't touch C, that region
there has been counted twice, and the stuff that was in the intersection of all three
of those sets, those have been counted three times, so I'm going to have to do something
about it.
So I'm going to correct myself by subtracting off the size of A intersect B, so I'll get
rid of one of those check marks, then I'll subtract off the size of A intersect C, and
I'll subtract off the size of B intersect C.
Now most of the regions have exactly one check mark, except for the middle region, the region
of A intersect B intersect C, that's been counted three times, but then it got uncounted three
times, so it's been counted zero times.
Since I want to count it exactly once, then I need to add back the size of A intersect
B intersect C, and now everything's been counted exactly once.
So let's say that more succinctly, it says the size of A union B union C is the size
of A plus the size of B plus the size of C minus the size of A and B, I'll get rid
of those intersect signs because they're clumsy, minus the size of A and C, minus the size
of B and C plus the size of A, B, C, A intersect B intersect C.
This is called the principle of inclusion-exclusion or PIE because some people think it's as easy
as pie.
Well, at least what I showed you here was actually the principle of inclusion-exclusion
when N is three.
What do you think it looks like when N is four?
Well, let's take a guess.
So if I want the size of A union B union C union D, then PIE will say it's the size
of A plus the size of B plus the size of C plus the size of D, but then we have to subtract
off all the intersections of pairs.
So I subtract off the size of A intersect B, the size of A, C, size of A, D, B, C,
B, D and C, D. But now I've subtracted off too much, I have to add back the size of A,
B, C, A, B, D, A, C, D and B, C, D, that said I have to add back all those triples, but
then I have to subtract off the size of A, B, C, D, right?
That's the inclusion-exclusion principle.
First we start including our singletons, then we're excluding the double-tons, then we're
including the tripletons, and we're excluding the quadruple-tons.
And the general case, if I'm looking at the size of A1 union A2 all the way up to An,
that's the size of the singletons, you sum each singleton separately, then you subtract
off each double-ton, add back each tripleton, subtract off each quadruple-ton, going all
the way down until you get to the very end and when you're either going to add or subtract
the intersection of all the N sets.
So let me give you a proof of the principle of inclusion-exclusion, and feel free to skip
this proof the first time you watch this.
I mean, better that you just get a feel for how to use the principle of inclusion-exclusion,
but I want to give it to you anyway.
So the proof is really just like the proof we did with the Venn diagrams in the N equals
3 case.
Imagine you had an object that was in exactly M of the N sets, okay?
Maybe it's in the sets A1, A2 through AM, and it's not in any of the other sets.
It's not in AM plus 1, AM plus 2, AM, it's in M of the N sets.
Then how many times does that object get counted by the principle of inclusion-exclusion?
Well when I take the size of A1 plus the size of A2 up to the size of AM, it gets counted
exactly M times when I count the sets A1, A2 through AM.
Then when I subtract off all the double-tons, how many double-tons am I subtracting off?
M choose 2 double-tons, but how many of those double-tons included our object?
Our object was only in the sets 1 through M, so how many double-tons were subtracted
that affected our object?
M choose 2.
Okay, now if you understand that, then the rest of this should go quickly, and we have
to then add back all the tripletons that contain our object, and there were M choose 3 tripletons
that contained our object, then subtract M choose 4 for the quadruple-tons and so on
down to M choose M. But look what we have, we have this alternating
sum, M choose 1 minus M choose 2 plus M choose 3 minus M choose 4, we've seen that before.
This was the skip sum property of Pascal's Triangle.
Remember we saw that M choose 1 plus M choose 3 plus M choose 5 and so on equals M choose
0 plus M choose 2 plus M choose 4 and so on.
That is, the number of even-sized committees was the same as the number of odd-sized committees.
So, and if I interlace those, we get M choose 1 minus M choose 2 plus M choose 3 minus M
choose 4 all the way up to M choose M is equal to what?
The one M choose we didn't mention, M choose 0.
The M choose 0 is 1, so everything gets net counted one time.
Okay, I'm done with that proof.
So, sometimes with the principle of inclusion-exclusion, we think of A1 through An as belonging
to some big set S, right?
Like I'm counting different kinds of poker hands and they all live in the set of all
poker hands, but I'm counting straights, I'm counting flushes, I'm counting pairs.
And sometimes I'm interested in like garbage hands or what's the number of objects that
don't appear in any of those sets.
So if I say how many don't appear in A1, nor do they appear in A2, nor do they appear
in A3, then the easiest way to count that is start by taking the size of the big set
S and then subtract off those that are in A1 or A2 or A3 and so on.
So it's just one extra step to inclusion-exclusion.
Okay, the only way to really learn inclusion-exclusion is by doing problems.
So I've got a bunch of interesting problems for you to chew on.
Starting with this one, how many five card poker hands have at least one card in each
suit?
Okay, so here my big set S is the set of all five card poker hands.
You know how many five card poker hands there are?
52 choose five.
From that, I'm going to subtract off those hands that are spadeless or heartless or diamondless
or clubless.
Right, so the sets A1, A2, A3, and A4 that I'm subtracting off are the spadeless hands,
the heartless hands, and so on.
So how many ways can we do this?
Well we start with the 52 choose five hands and I have to first subtract off those hands
that are spadeless.
How many spadeless hands are there?
Well there are 13 spades in the deck so when I ignore those 13 cards that gives us 39 cards
in the deck from which to choose five.
So how many ways can I create a spadeless hand?
39 choose five.
I also have to subtract off those hands that are heartless.
There are 39 choose five heartless hands and similarly 39 choose five diamondless hands
and 39 choose five clubless hands.
Am I done?
No, because I've subtracted too much.
I have to add back to that those hands that are spadeless and heartless, right, because
those have been subtracted off twice.
How many hands are spadeless and heartless?
Well those hands only have diamonds and clubs in them and we can create those hands 26 choose
five ways.
I also have to add back those hands that are without spades and without diamonds, without
spades and clubs, hearts and diamonds, hearts and clubs, diamonds and clubs.
How many 26 choose fives do I have to add?
I know you can count on the screen, you can see six of them, but the real number to think
of is four choose two of them, right, because from those four suits, spade heart diamond
club, every pair of them I had to add back.
Now I have to subtract off all the tripletons.
How many tripletons, how many hands are spadeless, heartless and diamondless?
That only leaves us the hands that are only clubs and there are 13 choose five hands that
are only clubs.
Also I have to subtract off three other tripletons, right, so I'm subtracting off four, the quantity
13 choose five, I'm subtracting that off four times.
Technically I'd have to add back those hands that are without spades, hearts, diamonds or
clubs, but how many hands are those?
Zero, so I am done.
So when the dust settles, we have as our answer, 52 choose five minus four choose one times
39 choose five plus four choose two times 26 choose five minus four choose three times
13 choose five.
Once you do inclusion, exclusion by the way, you start experiencing, it's almost, I don't
think of the formula, I don't think of the A1 union A2 formula, rather I just get into
the zen of doing inclusion, exclusion.
I'll give you an example.
Here's a question from our last lecture.
How many ways can I give 11 distinct candies to four children so that each child gets at
least one candy?
Now my candy are distinct this time and my children are distinct.
So if I didn't have the restriction of everyone getting at least one candy, then how many
ways could I do it?
Four to the 11th ways, right?
Because I have the first piece of candy, I have four choices, the second piece of candy,
I have four choices, the 11th piece of candy, I have four choices.
So four to the 11 ways, but I have to subtract from that those allocations where child one
did not get any candy.
So how many of those allocations was child one candulous?
Well there'd be three to the 11th ways of distributing to the candies, distributing
the candies in such a way that child one didn't get any.
I also have to subtract off those where child two didn't get any and I have to subtract
off those where child three didn't get any or child four didn't get any.
In other words, I have to subtract off three to the 11th four times.
But I have to add back those candies, am I done?
I'm not because I have to add back those where say child one and two didn't get any candy.
How many ways can one and two not get any candy?
If I'm only distributing the candies to three and four, there are two to the 11th ways of
doing that.
And how many doubletons am I adding back?
Not just child one and two, but one and three, one and four, two and three, two and four.
Four choose two of them, so I add that two to the 11th back six times, four choose two.
Finally I have to subtract off those where child one, two and three get no candy.
How many ways can that happen?
One way, child four gets all the candy.
I also have to subtract off those where child one, two, four, one, three, four and two,
three, four don't get any candy.
So there are four choose three of those ones that I'm subtracting and that gives me my
answer.
So we've just answered the question, how many ways can we give 11 distinct candies to four
children so that each child gets at least one candy?
In lecture three on the twelve fold way, we called the answer to this problem four factorial
times s of 11, four, where s stood for the sterling number of the second kind.
Hence we've just shown that four factorial times s 11, four equals four to the 11th minus
four times three to the 11th plus four choose two times two to the 11th minus four choose
three times one to the 11th or using summation notation, it's the sum as j goes from zero
to four of negative one to the j, four choose j times four minus j to the 11th.
After dividing both sides by four factorial, we get s 11, four is one of the four factorial
times that sum.
Now the same line of reasoning can be applied to any number of candy or children finally
giving us a general formula for the sterling number s x y.
This allows us to complete our twelve fold way table and I'm very excited.
Alright here's another question that appears in number theory so this is a good one to
be thinking about for the future.
How many numbers between one and a thousand are not divisible by two, three or five?
So you start with all the numbers from one to a thousand, there are a thousand of them
and from that I have to subtract off the multiples of two, subtract off the multiples of three,
subtract off the multiples of five.
So how many of them are multiples of two?
Five hundred multiples of two, three hundred thirty three multiples of three, two hundred
multiples of five.
Add back those numbers that are multiples of two and three, two and five, and three and
five.
Now notice the numbers I'm adding back, they have different sizes.
What are the numbers that are multiples of two and three?
Those are the multiples of six and those that are multiples of two and five, those are the
multiples of ten, the multiples of three and five, those are the multiples of fifteen.
So I have to add them back by dividing a thousand by the number six, ten and fifteen and
ignoring any remainder I get, I'm adding back a hundred sixty six, one hundred and sixty
six.
Am I done?
Almost.
I have to subtract off those multiples of two, three and five.
What are the numbers that are multiples of two, three and five?
Those are just your multiples of thirty.
So I have to subtract off the multiples of thirty and there are thirty three multiples
of thirty and when I add and subtract those numbers when the dust settles we get two hundred
and sixty six numbers that are not divisible by two, three or five.
If you remember the question in the beginning of the lecture we were interested in numbers
from one to a hundred that were not divisible by two, three or five by doing the same kind
of calculation you get a total of twenty six.
Here's a trick question, how many numbers between one and a hundred are not divisible
by two, three, four or five?
The answer is the same as before.
It's still twenty six because anything divisible by four is also divisible by two so adding
that condition didn't change the problem.
We'll see and apply more questions like this when we investigate number theory in future
lectures.
Alright, here's another question for you.
A question involving the counting of paths.
Imagine I've got a city block that looks like this ten by ten grid here and I'm interested
in the number of ways that I can walk from the point A, this point A at zero zero to
the point B at the point ten ten and I never want to do any kind of backwards movement
so I'm only going to move to take steps that go to the right or go up.
I'm not allowed to move to the left.
I'm not allowed to move down.
Alright, so how many ways, first of all, can I walk from zero zero to ten ten in that
fashion?
Well, this kind of walk is going to require me to eventually take ten steps to the right
and ten steps up.
That's twenty steps altogether.
Alright, now how many ways can I decide which of those twenty steps are going to be to the
right?
I have ten steps that are to the right so of those twenty steps, choose which ten of
them are to the right, that can be done, twenty choose ten ways.
In total, the number of walks from zero zero to the point A, B would be A plus B choose
A. Mathematicians call these lattice paths.
So what do these have to do, what does this have to do with inclusion and exclusion?
Suppose I don't want to go through the point four two.
Maybe there's something that happens at that intersection that I don't like.
So how many paths from zero zero to ten ten avoid the point four two?
How could we do that?
Well, the easiest way to count that was first count how many paths do go through the point
four two and subtract those from the total number of paths.
How many ways can I go from zero zero to four two?
Well, by my lattice path formula, there's four plus two, choose four ways, six choose
four ways of doing that and then I have to go from four two to the point ten ten and
that's going to require me to take six steps to the right and eight steps up.
That's going to be fourteen steps altogether, six of which are to the right so I can get
from four two to ten ten in fourteen choose six ways.
So the number of paths that avoid four two would be twenty choose ten minus six choose
four times fourteen choose six.
Suppose there's another point I want to avoid.
Maybe I want to avoid four two and eight seven.
Then how many ways could I do that?
Again, I take the total number of paths twenty choose ten.
I subtract off those paths that avoid four two.
There are six choose four times fourteen choose six of those.
I subtract off those paths that avoid eight seven by the same kind of calculation.
There are fifteen choose eight times five choose two of them.
Am I done?
No, I have to add back those paths that went through four two and eight seven.
How many ways could I do that?
Well, I'd have to have a path that went from zero zero to four two and then went from four
two to eight seven and then went from eight seven to ten ten and our lattice path formula
tells us that there are six choose four times nine choose four times five choose two paths
which do that.
Okay, now I have a homework problem for you.
You don't have to do it as homework.
But imagine I'm in a class with N students.
Most of the classes I teach at Harvey Mudd College have N students.
And suppose that all N students they turn in their homework to me and I decide I'm going to let them grade
the assignment.
So I'm just going to return it to them at random.
I just randomly return the homework.
But I wouldn't want any student to get their own homework to grade.
So I want to know how many ways can I return those homeworks in such a way that no student gets their own homework back.
How many ways can I return them so that nobody gets their own homework back?
Let's call that answer D sub N.
And I'm going to come up with a beautiful formula for D N.
How many ways to return those homeworks?
Okay, so we'll start with if I didn't give you any restriction.
I just said other than every homework goes back to a different student.
Okay, so no restrictions.
A student can get their own homework back.
That's fine.
So how many choices do I have for that first homework that can go to N students?
Once I've done that, how many choices for the next homework that can go to N minus one students, then N minus two students, and so on.
So there'd be N factorial ways of distributing the homeworks.
Now I have to subtract off those allocations of homework in such a way where student one does get his own homework back.
How many ways can I return them where student one does get his own homework back?
Well, I give student one his homework, and then there are N minus one factorial ways of distributing the rest.
And whether some people do or don't get their own homework, I don't care.
I was just subtracting off those where student one got his own homework back.
I also have to subtract off those where student two got his own homework back.
And there are N minus one factorial ways of doing that.
And I have to subtract off those where student three or student four and student five, where they get their homework back.
So I'm going to take that N minus one factorial.
I'm going to subtract it off N times.
But I have to add back to that those situations where student one and two got their own homework back.
How many ways could that happen?
I give one and two their homework.
How many ways can I return the rest?
N minus two factorial.
Great.
So how many of these pairs of students, how many of those N minus two factorials am I going to be adding back?
I have to add back as many as there were pairs of students and choose two of them.
You see the pattern.
I now have to subtract off those where students one, two, and three got their homework back.
That can be done N minus three factorial ways.
I choose three of those N minus three factorials to subtract and so on.
If you were to write this in summation notation, you get a very nice expression.
We're looking at the sum as K goes from zero to N of N choose K times N minus K factorial times plus or minus one.
And for it to be plus or minus one, I'm taking minus one to the K because when K is even, I'm adding the term.
When K is odd, I'm subtracting the term.
Now I'm going to take the step of breaking up that N choose K into its factorial parts.
Remember N choose K is N factorial over K factorial N minus K factorial.
And look what happens here.
The N minus K factorials cancel and you're just left with the sum of N factorial times negative one to the K over K factorial.
So if N homeworks are returned at random, the probability that nobody gets their homework back is this number D sub N divided by N factorial.
When I divide by N factorial, the N factorials cancel and I'm just left with the alternating sum of one over K factorial.
One minus one over one factorial plus one over two factorial minus one over three factorial and so on.
Now as N grows, this number gets closer and closer to 0.367879.
And that practically doesn't depend on N.
Whether N is like five or ten or a hundred, we're getting really, really close to the number 0.367879.
Now that number may not look familiar to you, but for some of you, if I told you that was one over 2.718281828459045, etc.,
that might look familiar to you.
For those of you that have had some calculus, that's the number one over E.
So what does this say?
What's the moral to be learned in this?
First of all, as N grows, the chance that nobody gets their homework back gets closer and closer to the number one over E.
And so the moral of this problem and of this lecture, I should say, is that if you understand the principle of inclusion-exclusion,
then many probability problems can be done with ease.
Thank you.
