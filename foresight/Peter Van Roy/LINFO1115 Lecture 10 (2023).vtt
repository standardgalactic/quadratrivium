WEBVTT

00:00.000 --> 00:14.000
Today we're going to talk about PageRank and a lot you're going to see a lot of stuff on

00:14.000 --> 00:15.500
PageRank.

00:15.500 --> 00:24.000
This was a key invention that led to the founding of Google in the early 90s and I'm going to

00:24.000 --> 00:26.000
give you some mathematical foundations.

00:27.000 --> 00:35.000
I'm also going to talk about extensions like what's called Topic Specific PageRank

00:35.000 --> 00:44.000
or SIPRANKs for finding similar pages, TrustRank and I will explain how web spamming works,

00:44.000 --> 00:51.000
how that search engine optimized companies can try to increase the rank so there's a

00:51.000 --> 00:55.000
huge gap between search engines and these guys.

00:57.000 --> 00:59.000
Let me first start.

01:01.000 --> 01:09.000
Let me give several definitions of PageRank.

01:09.000 --> 01:11.000
I'm going to start with Fluid.

01:11.000 --> 01:16.000
So there's going to be in this course both intuition and mathematics.

01:16.000 --> 01:19.000
A lot of intuition, a lot of mathematics too.

01:19.000 --> 01:28.000
So I'll give multiple ways of Fluid algorithm, random walk and matrix representation all for

01:28.000 --> 01:30.000
the same algorithm.

01:30.000 --> 01:37.000
And then I'll give you some intuition on matrices and eigenvectors, eigenvalues, which maybe

01:37.000 --> 01:40.000
you see hopefully you get good intuition here.

01:41.000 --> 01:47.000
So in a PageRank there's only one value for each web page.

01:47.000 --> 01:55.000
So it's a big directed graph on the web pages and each page has a value that is computed

01:55.000 --> 02:04.000
and the intuition is a page that is important, is pointed to by important pages and an important

02:04.000 --> 02:07.000
page points to important pages.

02:07.000 --> 02:09.000
So that's recursive.

02:09.000 --> 02:13.000
That means there's a recursive iterative algorithm.

02:13.000 --> 02:19.000
First intuition is that it's kind of like a liquid, fluid.

02:19.000 --> 02:28.000
Each web page or node is a container and the links are hives and you start by putting

02:28.000 --> 02:34.000
a little bit of fluid in each of the web pages and then the fluid will circulate according

02:34.000 --> 02:36.000
to some rules.

02:36.000 --> 02:43.000
So if you have one liter, then one of our n liters is put in every page and then you

02:43.000 --> 02:44.000
repeat.

02:44.000 --> 02:48.000
So there's a link from P to P prime.

02:48.000 --> 02:55.000
So each page P has links going out and if there's n links going out, maybe there's only

02:55.000 --> 03:01.000
three links going out, each page, each link will get one third of the fluid.

03:01.000 --> 03:08.000
The fluid is divided between that of links and then the next step, you look at the links

03:08.000 --> 03:12.000
coming in and for each incoming link you take the fluid.

03:12.000 --> 03:20.000
So you see the fluid circulates like that and eventually it converges.

03:20.000 --> 03:23.000
So here's an example of web pages.

03:23.000 --> 03:26.000
So there's eight pages here.

03:26.000 --> 03:29.000
A, B, C, D, E, F, G, H.

03:29.000 --> 03:32.000
There's each page has one eighth.

03:32.000 --> 03:34.000
So now the fluid circulates.

03:34.000 --> 03:36.000
How does it work?

03:36.000 --> 03:38.000
Well look at page A.

03:38.000 --> 03:50.000
So page A has D going in, E going in, H going in, F going in, and G going in.

03:50.000 --> 03:58.000
And so what happens is after one iteration, A has one eighth of a liter which leaves and

03:58.000 --> 04:01.000
all the n links, the fluid comes in.

04:01.000 --> 04:05.000
So D has one eighth of a liter but has two outgoing links.

04:05.000 --> 04:07.000
So it's divided by two.

04:07.000 --> 04:10.000
So you have one 16 coming from D.

04:10.000 --> 04:13.000
E has also two outgoing links.

04:13.000 --> 04:18.000
So there's one 16 coming from E.

04:18.000 --> 04:20.000
H has no outgoing links.

04:20.000 --> 04:22.000
So everything goes there.

04:22.000 --> 04:24.000
So this is one eighth.

04:24.000 --> 04:27.000
That's H.

04:27.000 --> 04:30.000
F has no outgoing links.

04:30.000 --> 04:31.000
And G neither.

04:31.000 --> 04:36.000
So there's both one eighth there.

04:36.000 --> 04:39.000
That's F and G.

04:39.000 --> 04:42.000
So the total is three eighths, four eighths.

04:42.000 --> 04:44.000
This is one half.

04:44.000 --> 04:46.000
That's after one iteration.

04:46.000 --> 04:48.000
It's the same for all of them.

04:48.000 --> 04:51.000
And you keep going until it converges.

04:51.000 --> 04:55.000
And you can prove it converges, which we will do in a little bit.

04:55.000 --> 05:01.000
And after you keep doing that, you get these numbers.

05:01.000 --> 05:08.000
So A has four thirteenths, B has two thirteenths, D has one thirteenth, and so on.

05:08.000 --> 05:11.000
So this is the result of the page rank.

05:11.000 --> 05:13.000
It's just this fixed point.

05:13.000 --> 05:16.000
A is the most important page here.

05:16.000 --> 05:21.000
And D, H, E, F, and G are less important.

05:21.000 --> 05:23.000
That's the basic idea.

05:23.000 --> 05:25.000
Of course there's a problem.

05:25.000 --> 05:29.000
It's not going to work if you do like that.

05:29.000 --> 05:34.000
So this basic algorithm is nice, but it doesn't always work.

05:34.000 --> 05:37.000
So we have to fix it.

05:37.000 --> 05:40.000
So let's say we change the graph.

05:40.000 --> 05:42.000
F points to G and G points to F.

05:42.000 --> 05:45.000
They don't point to A, they point to each other.

05:45.000 --> 05:48.000
So what happens now?

05:48.000 --> 05:50.000
The thing keeps circulating.

05:50.000 --> 05:55.000
But look, all the fluid that comes in here never goes out.

05:55.000 --> 05:57.000
You see that?

05:57.000 --> 05:59.000
It just will accumulate here.

05:59.000 --> 06:03.000
All the fluid will eventually, this part will empty, zero.

06:03.000 --> 06:06.000
Everything will eventually come here.

06:06.000 --> 06:09.000
F and G will each get half.

06:09.000 --> 06:11.000
F and G has to get zero.

06:11.000 --> 06:13.000
That's not good enough.

06:13.000 --> 06:17.000
So you think, well, this is a stupid algorithm.

06:17.000 --> 06:19.000
It's very bad.

06:19.000 --> 06:24.000
Well, the insight from the smart guys who made Google is,

06:24.000 --> 06:26.000
we can actually fix this problem.

06:26.000 --> 06:29.000
So you see the problem now.

06:29.000 --> 06:33.000
We can still use the fluid intuition to fix it.

06:33.000 --> 06:35.000
Look at the Earth.

06:35.000 --> 06:38.000
Water flows down, right?

06:38.000 --> 06:40.000
First, everything goes into the ocean.

06:40.000 --> 06:44.000
But why does not everything stay in the ocean?

06:44.000 --> 06:46.000
Still, there's water on the mountains.

06:46.000 --> 06:49.000
Because there's water also going up.

06:49.000 --> 06:52.000
This is called up by evaporation.

06:52.000 --> 06:54.000
So it's kind of circulating.

06:54.000 --> 06:57.000
So you have lakes in the mountains.

06:57.000 --> 07:02.000
And that's what they do now for the pay track algorithm.

07:02.000 --> 07:05.000
You can, the update rule.

07:05.000 --> 07:09.000
So it's not just what fluid goes in.

07:09.000 --> 07:12.000
There's also fluid going out.

07:12.000 --> 07:18.000
So you take the fluid, OK?

07:18.000 --> 07:21.000
So you make a scale at the end of the day.

07:21.000 --> 07:28.000
You reduce the fluid in each page by some factor s,

07:28.000 --> 07:30.000
like 0.9 or something.

07:30.000 --> 07:37.000
And you add a little bit of fluid, 1 minus s over n, everywhere.

07:37.000 --> 07:41.000
So even the pages very low, very low,

07:41.000 --> 07:44.000
pay track will get some.

07:44.000 --> 07:48.000
So it's like a random jump, OK?

07:48.000 --> 07:52.000
So basically the pay track evaporates from each node.

07:52.000 --> 07:56.000
And it rains uniformly on all nodes.

07:56.000 --> 08:00.000
So that means we have now a cycle between all nodes.

08:00.000 --> 08:07.000
And this fixes the problem, OK?

08:07.000 --> 08:13.000
So you have the basic update rule extended with scaling.

08:13.000 --> 08:15.000
So this is the evaporation.

08:15.000 --> 08:19.000
You can show it with converges, which we will show in a while.

08:19.000 --> 08:22.000
It's matrix computation, which we'll show later.

08:22.000 --> 08:29.000
And the real scaling factor is some number very close to 1, 0.8, 0.9.

08:29.000 --> 08:33.000
So that means most of the time the fluid stays on the page,

08:33.000 --> 08:40.000
like a small percentage of the time it jumps when it evaporates, OK?

08:40.000 --> 08:46.000
And this definition, the fluid definition, is equivalent.

08:46.000 --> 08:52.000
You can say it's also kind of, you can formulate it as a random walk definition.

08:52.000 --> 08:56.000
This is maybe more intuitive for humans.

08:56.000 --> 09:01.000
Let's say you have somebody who is browsing the web randomly.

09:01.000 --> 09:05.000
I'm looking at a web page, and then I click on the web page.

09:05.000 --> 09:08.000
So I jump from one page to the other.

09:08.000 --> 09:13.000
And I keep clicking, and I'm surfing for K steps.

09:13.000 --> 09:16.000
And then I get bored, and I don't get another page.

09:16.000 --> 09:22.000
So it's like I'm walking randomly on the network, OK?

09:22.000 --> 09:25.000
And you walk K steps.

09:25.000 --> 09:28.000
And then you jump to some random page, you walk K steps.

09:28.000 --> 09:32.000
Then you walk, jump, and you walk K steps.

09:32.000 --> 09:38.000
So this is the walking is exactly the page after K iterations.

09:38.000 --> 09:47.000
And the jump is the rain with the jumping to random page with probability 1 minus s, OK?

09:47.000 --> 09:53.000
So it turns out they're equivalent, which we'll see in a minute.

09:53.000 --> 09:55.000
OK?

09:55.000 --> 09:59.000
So this is the basic algorithm.

09:59.000 --> 10:03.000
It was modified a lot, OK?

10:03.000 --> 10:10.000
So I won't say so much here, because we're going to go into the other slides.

10:10.000 --> 10:13.000
Search companies will cheat.

10:13.000 --> 10:16.000
They don't call it cheating.

10:16.000 --> 10:22.000
They call it search engine optimization, please, SEO.

10:22.000 --> 10:29.000
And if I want to be very high at the Google ranking, I pay SEO companies the money.

10:29.000 --> 10:34.000
And they will do some magic, and all of a sudden I get very high scores.

10:34.000 --> 10:39.000
And it works using something called link farms, which we'll explain.

10:39.000 --> 10:40.000
OK?

10:40.000 --> 10:45.000
And also something we mentioned before is advertising.

10:45.000 --> 10:47.000
So it's the links.

10:47.000 --> 10:49.000
You also have pay links.

10:49.000 --> 10:52.000
And Google makes huge money with that.

10:52.000 --> 10:53.000
OK?

10:53.000 --> 10:55.000
So that's an extension.

10:55.000 --> 10:57.000
OK?

10:57.000 --> 11:08.000
So let me now go to the more in-detailed discussion of PageRank.

11:08.000 --> 11:15.000
So these slides are actually by a colleague of mine called Sarunas Gerzioskas,

11:15.000 --> 11:20.000
who is, I think, from Lithuania, but he's now in Sweden, KTH.

11:20.000 --> 11:24.000
So he was very nice to get to these slides, which I modified a little.

11:24.000 --> 11:26.000
So this goes into a lot of detail.

11:26.000 --> 11:27.000
OK?

11:27.000 --> 11:33.000
On different kind of things for PageRank.

11:33.000 --> 11:36.000
So first I want to give you intuition.

11:36.000 --> 11:41.000
We will go a little bit into the math, matrix representation for random walks,

11:41.000 --> 11:43.000
the notion of eigenvalues.

11:43.000 --> 11:49.000
Then I will show the PageRank algorithm, how it works exactly, formally.

11:49.000 --> 11:52.000
And then we go beyond PageRank.

11:52.000 --> 11:58.000
How can you search in a more focused way, topic specific,

11:58.000 --> 12:02.000
or how you can find similar pages, using variation,

12:02.000 --> 12:07.000
that say I'm looking for movies that are like this movie.

12:07.000 --> 12:08.000
OK?

12:08.000 --> 12:11.000
So, for example, I like a lot the movie Doom,

12:11.000 --> 12:14.000
and I want to find movies that are like this movie.

12:14.000 --> 12:16.000
So with SimRank lets me do that.

12:16.000 --> 12:17.000
So it's similar.

12:17.000 --> 12:22.000
And the final thing is that I want to talk, I want to explain how the cheaters work.

12:22.000 --> 12:25.000
This is called web spamming.

12:25.000 --> 12:30.000
So very quickly after Google invented the PageRank,

12:30.000 --> 12:33.000
the companies invented the ways to cheat.

12:33.000 --> 12:34.000
OK?

12:34.000 --> 12:36.000
And this is called link farming.

12:36.000 --> 12:38.000
So I'll show you exactly how it works.

12:38.000 --> 12:43.000
And we'll figure out how can you increase the PageRank artificially.

12:43.000 --> 12:51.000
And then I'll show you some algorithm called TrustRank to go bypass the cheaters.

12:51.000 --> 12:52.000
OK?

12:52.000 --> 12:59.000
So the first part of the talk is more general talk about random walks and matrices.

12:59.000 --> 13:02.000
So this gives you kind of intuition on the mathematics.

13:02.000 --> 13:07.000
So I'm going to give you mathematics, but also intuition.

13:07.000 --> 13:11.000
So the first thing I want to talk about is random walks.

13:11.000 --> 13:18.000
So here's a graph with vertices, 1, 2, 3, 4, 5, and edges connected to them.

13:18.000 --> 13:20.000
And I want to do a random walk.

13:20.000 --> 13:22.000
That means I start somewhere.

13:22.000 --> 13:24.000
I've got node 1.

13:24.000 --> 13:29.000
I move to a neighboring node with some probability.

13:29.000 --> 13:31.000
1 over d of v.

13:31.000 --> 13:35.000
So d is the degree of the vertex.

13:35.000 --> 13:37.000
It's how many links there are.

13:37.000 --> 13:40.000
So the node 1 has a degree of 2.

13:40.000 --> 13:44.000
So there's one half probability of going on each of those links.

13:44.000 --> 13:48.000
And then I keep making walk steps.

13:48.000 --> 13:54.000
And the sequence of this technically is something called a Markov chain.

13:54.000 --> 14:03.000
I'm not going to give you so much theory, but it's basically a sequence where each step is chosen according to some probability.

14:03.000 --> 14:04.000
And there's no memory.

14:04.000 --> 14:06.000
I mean, it doesn't remember where it comes from.

14:06.000 --> 14:08.000
You just each step, it's there.

14:08.000 --> 14:12.000
It makes another jump, but it actually has no memory where it came from.

14:12.000 --> 14:14.000
So that's called Markov chain.

14:14.000 --> 14:16.000
Okay?

14:16.000 --> 14:19.000
So let's say we start at node 1.

14:19.000 --> 14:21.000
So here I make a table.

14:21.000 --> 14:24.000
So node 1 here.

14:24.000 --> 14:31.000
So in the beginning at time 0, I have one probability of being at node 1 and 0 for being everywhere else.

14:31.000 --> 14:35.000
And then I do one step, but a two-step, three-step.

14:35.000 --> 14:43.000
And each step, I will walk randomly according to the links.

14:43.000 --> 14:44.000
Okay?

14:44.000 --> 14:53.000
So after one step, see how it works out, I will be either at node 2 or 3 with probability 50%.

14:53.000 --> 14:54.000
Okay?

14:54.000 --> 14:55.000
And then I keep going.

14:55.000 --> 15:02.000
So the 2 can go either to 1 or 4, and the 3 can go to 1, 4, or 5.

15:02.000 --> 15:07.000
So the 2, the 0.5, will be split between 1 and 4.

15:07.000 --> 15:13.000
And the node 3, the 50%, will be split between 1, 4, and 5.

15:13.000 --> 15:18.000
So 16% or 17% for each of them.

15:18.000 --> 15:19.000
So that gives me this.

15:19.000 --> 15:25.000
That means there's 42% chance of being at node 1.

15:25.000 --> 15:27.000
So where does this number come from?

15:27.000 --> 15:37.000
Well, it means I have a 25% chance coming from node 2 and a 17% chance of coming from node 3.

15:37.000 --> 15:41.000
And 25 plus 17 is 42.

15:41.000 --> 15:43.000
That's very quick to pick up.

15:43.000 --> 15:47.000
Also being in node 4, I have a 42%.

15:47.000 --> 15:51.000
And node 5 is only one way to get there.

15:51.000 --> 15:54.000
It's from 3 because I'm not getting 4.

15:54.000 --> 16:00.000
So there's a 1 over 6, so 17%, rounded into 2 decimals.

16:00.000 --> 16:05.000
And the sum of all these is normally going to be 1.

16:05.000 --> 16:09.000
Might be slightly different because of round off error, but it's supposed to be 1.

16:09.000 --> 16:10.000
Okay?

16:10.000 --> 16:11.000
So I keep going.

16:11.000 --> 16:14.000
You can see now the numbers change.

16:14.000 --> 16:20.000
After 3 steps, I will be in these places with these probabilities.

16:20.000 --> 16:22.000
And I keep going and I can keep going.

16:22.000 --> 16:24.000
4, 5, 6.

16:24.000 --> 16:30.000
You see, eventually, it's like they're kind of converging, okay?

16:30.000 --> 16:33.000
To some value.

16:33.000 --> 16:35.000
Okay?

16:35.000 --> 16:37.000
And it will converge.

16:37.000 --> 16:43.000
So the initial node, I started with node 1, but of course you can start with more nodes.

16:43.000 --> 16:46.000
So here's a longer table.

16:46.000 --> 16:51.000
So you start from 0 up to the top and you keep going.

16:51.000 --> 16:55.000
And it kind of looks like it's converging, right?

16:55.000 --> 16:59.000
17, 17, 25, 25, 17.

16:59.000 --> 17:01.000
How would you think?

17:01.000 --> 17:05.000
It seems to be, it smells like it's converging over.

17:05.000 --> 17:08.000
And it does actually converge.

17:08.000 --> 17:17.000
And you can prove for any connected, non-by-part, bi-directional graph at any starting point,

17:17.000 --> 17:21.000
the random one converges.

17:21.000 --> 17:25.000
And now I want you to have intuition on this.

17:25.000 --> 17:28.000
The graph has to be connected, of course.

17:28.000 --> 17:34.000
If it's not connected, if it looks like this.

17:34.000 --> 17:36.000
So let's say the graph looks like this.

17:36.000 --> 17:38.000
There's two pieces.

17:38.000 --> 17:45.000
Well, if I start here, I will never get there, okay?

17:45.000 --> 17:46.000
For example.

17:46.000 --> 17:53.000
Or if I have a bi-part type graph.

17:53.000 --> 17:58.000
See, depending on if I start here or if I start here, I will converge differently.

17:58.000 --> 18:02.000
So it's not really converging for any random starting point.

18:02.000 --> 18:07.000
See, here I say any starting point, okay?

18:07.000 --> 18:16.000
So if the graph is not connected, then the convergence would be different depending on the starting point, right?

18:16.000 --> 18:18.000
So it has to be connected.

18:18.000 --> 18:20.000
So you have to understand, intuition is important.

18:20.000 --> 18:22.000
It has to be connected.

18:22.000 --> 18:24.000
It has to be non-by-part type.

18:24.000 --> 18:28.000
Because if it's bi-part type, then you can divide the graph into two pieces.

18:28.000 --> 18:34.000
If I start here, then I will go here and it will be oscillating forever.

18:34.000 --> 18:37.000
All the probability will be here and this will be zero.

18:37.000 --> 18:40.000
And then it will all be here and all this will be zero.

18:40.000 --> 18:43.000
So it's oscillating and not converging.

18:43.000 --> 18:47.000
So that's why it has to be non-by-part type.

18:47.000 --> 18:48.000
See that?

18:48.000 --> 18:51.000
So you have to understand this intuition, huh?

18:51.000 --> 18:54.000
So it's not just random words there, okay?

18:54.000 --> 18:56.000
So make sure you understand.

18:56.000 --> 18:58.000
Okay?

18:58.000 --> 19:04.000
And the unique is only one result.

19:04.000 --> 19:11.000
Unique stationary means that once you converge it never changes anymore, okay?

19:11.000 --> 19:17.000
So this is a kind of iteration, which we call power iteration.

19:17.000 --> 19:20.000
Okay?

19:20.000 --> 19:24.000
So this is the final value.

19:24.000 --> 19:27.000
17, 17, 25, 25, 17.

19:27.000 --> 19:30.000
What are those numbers mean, actually?

19:30.000 --> 19:34.000
Actually, we can figure it out what they have to mean.

19:34.000 --> 19:39.000
We can actually give a formula for this.

19:39.000 --> 19:40.000
The random walk.

19:40.000 --> 19:45.000
So pi is the final set of probabilities.

19:45.000 --> 19:49.000
And it's stationary, so it's staying the same.

19:49.000 --> 19:56.000
D of V is the degree and M is the number of edges, okay, in the graph.

19:56.000 --> 20:00.000
So in this graph, 1, 2, 3, 4, 5, 6, edges.

20:00.000 --> 20:04.000
So 2M is 12.

20:04.000 --> 20:08.000
So 3 is the degree 3.

20:08.000 --> 20:09.000
1, 2, 3.

20:09.000 --> 20:15.000
And 3 divided by 12 is 1, 4, 25%.

20:15.000 --> 20:17.000
That's the coincidence, huh?

20:17.000 --> 20:19.000
So 2 has two outcome edges.

20:19.000 --> 20:25.000
2 divided by 12 is 1, 6, which is 0.17.

20:25.000 --> 20:26.000
Amazing, huh?

20:26.000 --> 20:27.000
Isn't it?

20:27.000 --> 20:30.000
So we can prove that this has to be the right value.

20:30.000 --> 20:35.000
It's actually very easy to prove, okay?

20:35.000 --> 20:39.000
We can prove that this value is a fixed point.

20:39.000 --> 20:45.000
That means if you do one more iteration on this value, you get the same value.

20:45.000 --> 20:50.000
We start with pi, and we will do one iteration giving pi prime.

20:50.000 --> 20:51.000
Okay?

20:51.000 --> 20:53.000
And so how do you do that?

20:53.000 --> 20:59.000
Well, the new value is all the in-going links, okay?

20:59.000 --> 21:04.000
So for node V, we take all the links going from U to V.

21:04.000 --> 21:13.000
And from each one of those, we have the probability on U divided by the degree.

21:13.000 --> 21:15.000
1 over D, okay?

21:15.000 --> 21:27.000
This one is du over 2m, and the du's cancel, so we get the sum of 1 over 2m, the links

21:27.000 --> 21:29.000
coming from U to V.

21:29.000 --> 21:33.000
But how many links are there going from U to V?

21:33.000 --> 21:36.000
Well, it's exactly the degree of V.

21:36.000 --> 21:39.000
How many links are going to this node?

21:39.000 --> 21:41.000
1, 2, 3, okay?

21:41.000 --> 21:45.000
That means it's the degree of V divided by 2m.

21:45.000 --> 21:48.000
Pi prime is equal to pi.

21:48.000 --> 21:53.000
So you could show that it's the degree divided by 2m, right?

21:53.000 --> 21:55.000
We need that.

21:55.000 --> 21:58.000
Now, there's another thing.

21:58.000 --> 22:01.000
If the graph is deregular.

22:01.000 --> 22:07.000
So deregular means that all the nodes have the same degree, D, everywhere.

22:07.000 --> 22:14.000
If it's like that, of course, then the probability is going to be the same everywhere, right?

22:14.000 --> 22:17.000
So uniform means it's the same.

22:17.000 --> 22:22.000
So if I have three links on every node, it's going to be the same, uniform.

22:22.000 --> 22:24.000
Okay, that's intuitive, right?

22:24.000 --> 22:27.000
So you have to get the intuition, okay?

22:27.000 --> 22:35.000
So this is just some numbers showing how it works.

22:35.000 --> 22:42.000
So the stationary distribution is proportional to the degree of V.

22:42.000 --> 22:46.000
The degree is how many links, okay?

22:46.000 --> 22:47.000
So what does that mean?

22:47.000 --> 22:49.000
There's intuition.

22:49.000 --> 22:51.000
Well, it's pretty clear.

22:51.000 --> 22:58.000
The more neighbors you have, the more chance that people are going to come visit you.

22:58.000 --> 22:59.000
So the probability is higher.

22:59.000 --> 23:02.000
See, that's kind of the intuition, okay?

23:02.000 --> 23:11.000
So you can see how the matrix, the random walk is going to work.

23:11.000 --> 23:21.000
Now, let's look at a more numerical form of representation, a matrix representation.

23:21.000 --> 23:26.000
We're going to do the same thing now with matrices.

23:26.000 --> 23:28.000
So here's my graph.

23:28.000 --> 23:30.000
So I'm going to keep using the same example.

23:30.000 --> 23:37.000
And that matrix called A is the adjacency matrix for this graph.

23:37.000 --> 23:38.000
What does it mean?

23:38.000 --> 23:45.000
Well, if you look at the rows, there's five rows and five columns.

23:45.000 --> 23:53.000
So if there's a link from one to two, that means there's a one in element one, two.

23:53.000 --> 23:56.000
So the first row, second column.

23:56.000 --> 24:00.000
So let me show you.

24:00.000 --> 24:09.000
So this link, one, two, means that there's from row one, there's a link to two here.

24:09.000 --> 24:11.000
There's also a link from one to three.

24:11.000 --> 24:16.000
So row one, column three, there's a link here.

24:16.000 --> 24:27.000
And each row corresponds to one node, the origin, and the column corresponds to the destination, okay?

24:27.000 --> 24:31.000
So how many ones are there in that graph?

24:31.000 --> 24:33.000
In this matrix, how many ones?

24:33.000 --> 24:40.000
You have one, two, three, four, five, six, six edges, huh?

24:40.000 --> 24:43.000
So how many ones are going to be in there?

24:43.000 --> 24:44.000
Two times.

24:44.000 --> 24:46.000
Because, of course, they go both directions.

24:46.000 --> 24:48.000
That's one to two, two to one.

24:48.000 --> 24:49.000
So you have twelve.

24:49.000 --> 24:50.000
They're out.

24:50.000 --> 24:52.000
See, it's very two to go.

24:52.000 --> 24:57.000
So that's the first matrix called adjacency matrix.

24:57.000 --> 25:03.000
But now we want another matrix because we're going with probabilities.

25:03.000 --> 25:04.000
We have a probability.

25:04.000 --> 25:07.000
So we want that to be in the matrix too.

25:07.000 --> 25:16.000
So first I want to do my special matrix called the diagonal matrix D.

25:16.000 --> 25:24.000
And each value on the diagonal is one over one over the degree.

25:24.000 --> 25:30.000
So for the first element, it's one over two, then one over two.

25:30.000 --> 25:34.000
Note three has three legs, so it's one over three.

25:34.000 --> 25:38.000
Note four has three legs, so it's one over three.

25:38.000 --> 25:41.000
And note five has two legs, so it's one over two.

25:41.000 --> 25:44.000
So why am I introducing this matrix?

25:44.000 --> 25:52.000
Because it lets me define another matrix, which is called the transition matrix.

25:52.000 --> 25:56.000
So this one is actually D times A.

25:56.000 --> 25:57.000
So what does it mean?

25:57.000 --> 26:02.000
Instead of ones, I now have probabilities.

26:02.000 --> 26:08.000
So if I have a row one, if I have a node one, it is one half probability I go to two,

26:08.000 --> 26:11.000
and one half probability I go to three.

26:11.000 --> 26:12.000
See that?

26:12.000 --> 26:19.000
So in each row, all the elements tell me the probability they go to the other one.

26:19.000 --> 26:20.000
Question?

26:20.000 --> 26:21.000
Yes.

26:21.000 --> 26:24.000
In PageRank, we have a directed graph, correct?

26:24.000 --> 26:26.000
Yes, we will get to that.

26:26.000 --> 26:31.000
So yes, I'm talking now, I'm directing graph, but we will get to directed graph,

26:31.000 --> 26:33.000
and you'll see what happens when we get there.

26:33.000 --> 26:39.000
It's very interesting stuff, but you have to understand first this piece, this one, huh?

26:39.000 --> 26:40.000
Yeah, yeah.

26:40.000 --> 26:41.000
No problem, no problem.

26:41.000 --> 26:47.000
We get there, and you will see all the neat intuition that comes when the graph becomes directed.

26:47.000 --> 26:50.000
So here, I'm just giving you intuitions, okay?

26:50.000 --> 26:58.000
Because eventually, we're going to be talking to PageRank, and then I want you to understand that stuff, okay?

26:58.000 --> 27:07.000
So if you're in row two, you can go to row one, with probability half and a four with probability half.

27:07.000 --> 27:10.000
If you're in two, you go to one or four.

27:10.000 --> 27:12.000
See how it works, huh?

27:12.000 --> 27:16.000
So all the ones in a row are turned into probabilities.

27:16.000 --> 27:21.000
So the sum of the probabilities for each row is equal to one, huh?

27:21.000 --> 27:24.000
And this matrix is actually D times A.

27:24.000 --> 27:27.000
So there's two matrices that are really important here.

27:27.000 --> 27:36.000
The adjacency, which gives you the graph, and the transition matrix, which gives you the probabilities, okay?

27:36.000 --> 27:43.000
So formally, A is n by n adjacency matrix of the graph.

27:43.000 --> 27:54.000
A, i, j is one if there's a link between nodes i and j, and otherwise it's zero, okay?

27:54.000 --> 28:01.000
Actually, you can say it gives me all the paths that you can do in one half, huh?

28:01.000 --> 28:05.000
Because you're making one connection, okay?

28:05.000 --> 28:07.000
The adjacency matrix.

28:07.000 --> 28:15.000
Now let's go do a little bit more intuition, and I'll show you and you'll see how neat the matrix representation is.

28:15.000 --> 28:19.000
Let's say I want to count two hop paths.

28:19.000 --> 28:22.000
I want to go one, two.

28:22.000 --> 28:24.000
How many are there?

28:24.000 --> 28:28.000
From a node, I want to go two hops instead of one.

28:28.000 --> 28:30.000
You know it's so neat.

28:30.000 --> 28:35.000
It's just A squared when you do matrix multiplication.

28:35.000 --> 28:46.000
The A times A, the matrix multiplication, gives me the number of two hop paths, okay?

28:46.000 --> 28:49.000
And A cubed, what does A cubed mean less?

28:49.000 --> 28:54.000
Well, the number of three hop paths, okay?

28:54.000 --> 28:55.000
So how does that work?

28:55.000 --> 28:57.000
Well, I'll give you some intuition.

28:57.000 --> 29:00.000
Okay, a small technical thing.

29:00.000 --> 29:05.000
It's actually giving you walks.

29:05.000 --> 29:08.000
Sorry, I have to be technical about graphs.

29:08.000 --> 29:15.000
A path is when you don't repeat any vertices, so it's like the marking on the street.

29:15.000 --> 29:24.000
Whereas a walk is like a person walking back and forth, so you can actually repeat vertices, okay?

29:24.000 --> 29:30.000
So actually, we're counting walks, okay, to be very technical.

29:30.000 --> 29:33.000
We're counting walks, okay?

29:33.000 --> 29:35.000
So how does it work?

29:35.000 --> 29:46.000
Actually, you have to make a diagram and a fingerprint and understand why the matrix multiplication gives you that.

29:46.000 --> 29:48.000
Okay?

29:48.000 --> 29:54.000
So let's say I want to do A times A.

29:54.000 --> 29:57.000
Okay, A times A.

29:57.000 --> 30:06.000
And here I have a row, row I, and here I have a column.

30:06.000 --> 30:08.000
Okay?

30:08.000 --> 30:10.000
Okay?

30:10.000 --> 30:18.000
So, and here I have 1's and 0's up.

30:18.000 --> 30:26.000
For example, some way, and this will give me element i, j, a, l.

30:26.000 --> 30:28.000
So how does it work?

30:28.000 --> 30:37.000
So these are, the one means you have one hoppa from i to 1 to center hoppa.

30:37.000 --> 30:39.000
So how does the multiplication work?

30:39.000 --> 30:44.000
1 times 0 plus 0 times 1 plus 1 times 0 plus 1 times 1.

30:44.000 --> 30:47.000
Well, how does it, what does it mean in terms of hops?

30:47.000 --> 30:51.000
Here I'm going from i to 1.

30:51.000 --> 30:57.000
And here I'm going from 1 to j.

30:57.000 --> 30:59.000
You see that?

30:59.000 --> 31:03.000
So I go from i to 1 and then from 1 to j.

31:03.000 --> 31:07.000
Then I go from i to 2 and from 2 to j.

31:07.000 --> 31:11.000
From i to n and to j.

31:11.000 --> 31:19.000
So each one of these combinations is going from i to j, but the node in the middle is different.

31:19.000 --> 31:21.000
You see that?

31:21.000 --> 31:26.000
And it's only going to be 1 if there's both 1's.

31:26.000 --> 31:32.000
That means if I have a path from i to 2 and 2 to j, it's going to multiply 1 times 1.

31:32.000 --> 31:40.000
So it's only 1 if the number, if there's actually a path there or a walkup.

31:40.000 --> 31:52.000
So if you sum them all, it gives me all the possible walks from i to j with 2 hops.

31:52.000 --> 31:59.000
And if here, and it keeps going like that, if you put the matrix here which gives you n hops,

31:59.000 --> 32:03.000
then you hear you will add one more and you get n plus 1.

32:03.000 --> 32:05.000
Do you see how it works?

32:05.000 --> 32:12.000
So the matrix multiplication gives you the total number of walks.

32:12.000 --> 32:15.000
Okay?

32:15.000 --> 32:25.000
So what if you take the vector now, 1, 0, 0, 0, 0 and you multiply by a?

32:25.000 --> 32:33.000
Well, it's like you start, okay?

32:33.000 --> 32:41.000
You're starting from 1, or 0, or 0, or 0, or 0.

32:41.000 --> 32:46.000
So the number of walks, the one where you start from is 1, 0, 0, 0, 0.

32:46.000 --> 32:51.000
It's given by that.

32:51.000 --> 33:01.000
So basically it tells you how many walks of length 1 that start from node 1, ending in node i.

33:01.000 --> 33:03.000
Okay?

33:03.000 --> 33:06.000
And you could do multiplication for that.

33:06.000 --> 33:09.000
See how matrix multiplication is really neat, huh?

33:09.000 --> 33:15.000
So v a squared, it gives you 2, 0, 0, 2, 1.

33:15.000 --> 33:23.000
So now we have 2 walks going from node 1 ending up in node 1, or 2 walks from node 1 ending up in node 4.

33:23.000 --> 33:25.000
Okay?

33:25.000 --> 33:29.000
See what's neat, huh?

33:29.000 --> 33:31.000
And 3 gives you how many walks of length?

33:31.000 --> 33:33.000
3.

33:33.000 --> 33:37.000
And it's all the same, I'm always talking about this one, huh?

33:37.000 --> 33:47.000
And you see how the matrix really corresponds very nicely to graphs and doing things on graphs, okay?

33:47.000 --> 33:49.000
Okay?

33:49.000 --> 33:52.000
So far we did the adjacency matrix.

33:52.000 --> 33:56.000
What about the random walk matrix, the transition matrix?

33:56.000 --> 33:58.000
That's this one.

33:58.000 --> 34:03.000
And with the probabilities, okay?

34:03.000 --> 34:08.000
So this gives you the probability of ending up somewhere.

34:08.000 --> 34:10.000
Okay?

34:10.000 --> 34:17.000
If you start in node 1, the probability of ending in here is one-half.

34:17.000 --> 34:21.000
The probability of ending in node 4 is zero.

34:21.000 --> 34:24.000
And you could do squares.

34:24.000 --> 34:29.000
So for example, if you keep going,

34:29.000 --> 34:34.000
if you take this vector here and multiply again by m,

34:34.000 --> 34:40.000
the number you get here is actually the probability that you end up in those nodes when you start with node 1.

34:40.000 --> 34:42.000
It's neat, huh?

34:42.000 --> 34:47.000
Question? No? It's okay?

34:47.000 --> 34:51.000
So you can see how matrices and graphs are very close.

34:51.000 --> 34:56.000
So this is going to help us understand page rank, yeah?

34:56.000 --> 34:58.000
Okay?

34:58.000 --> 35:02.000
So we have a random walk on a graph G.

35:02.000 --> 35:05.000
Now we start doing random walks on that page rank.

35:05.000 --> 35:11.000
We start at node v0, and after t steps, we end up in node vt.

35:11.000 --> 35:15.000
We move to a neighbor with probability one over the degree.

35:15.000 --> 35:22.000
Each time we go to a node, if there's multiple paths, we divide evenly, yeah?

35:22.000 --> 35:27.000
And the chain of random nodes, it's what's called a Markov chain.

35:27.000 --> 35:31.000
So a Markov chain is a sequence where whenever you make one step,

35:31.000 --> 35:35.000
you make kind of random choice, some probabilities,

35:35.000 --> 35:37.000
but you forget everything you did before.

35:37.000 --> 35:43.000
It only depends where you are now, so there's no memory, okay?

35:43.000 --> 35:50.000
So the initial state would be here, so you have probability one being node 1, okay?

35:50.000 --> 35:56.000
Now you can do multiple steps.

35:56.000 --> 36:07.000
So after t steps, the probabilities is given by this vector, pt, p0 times m power t.

36:07.000 --> 36:13.000
So this is matrix exponential, matrix multiplications, huh?

36:13.000 --> 36:16.000
See how it works, huh?

36:16.000 --> 36:24.000
If you're a stickler for doing the m on the left, you have to do transpose, of course.

36:24.000 --> 36:32.000
That means you have row mixes here, but that's a detail, okay?

36:32.000 --> 36:39.000
So here we have pt is p0 times m to the t, and we start again with our matrix,

36:39.000 --> 36:44.000
and we start with the 1, 0, 0, 0, 0, and we do one step.

36:44.000 --> 36:50.000
So we have probabilities a half and a half for getting there, okay?

36:50.000 --> 36:54.000
And then keep it doing again, and we keep going.

36:54.000 --> 37:00.000
And eventually, I mean, it's going to converge.

37:00.000 --> 37:04.000
Remember, I showed you the table, but we're doing the same thing here, huh?

37:04.000 --> 37:12.000
So when pt plus 1 is equal to pt, we have reached a stationary distribution.

37:12.000 --> 37:16.000
So let me call this vector pi, okay?

37:16.000 --> 37:22.000
It's not 3.4, and I have not chosen this notation,

37:22.000 --> 37:25.000
but this is what Sylvonez has chosen.

37:25.000 --> 37:29.000
So pi times m is equal to pi.

37:29.000 --> 37:33.000
Stationary, when we start with these probabilities, we make a step,

37:33.000 --> 37:37.000
we end up with the same probabilities, okay?

37:37.000 --> 37:41.000
See that?

37:41.000 --> 37:45.000
You remember the notion of eigenvectors, have you seen that?

37:45.000 --> 37:48.000
Well, this is an eigenvector, either young.

37:48.000 --> 37:55.000
Remember, every matrices have special vectors called eigenvectors

37:55.000 --> 37:57.000
that give some property in the matrix.

37:57.000 --> 38:03.000
So v is an eigenvector of m, and lambda is the eigenvalue

38:03.000 --> 38:09.000
if v times m is equal to lambda, which is a scalar number times v.

38:09.000 --> 38:13.000
It's just scaling the v.

38:13.000 --> 38:17.000
So this one is clearly an eigenvector, right?

38:17.000 --> 38:19.000
Interesting, huh?

38:19.000 --> 38:24.000
So pt is connected to eigenvectors.

38:24.000 --> 38:33.000
Pi is an eigenvector of m with eigenvalue lambda equal to 1, okay?

38:33.000 --> 38:35.000
Okay, so that's the first part.

38:35.000 --> 38:37.000
Let me go on now.

38:37.000 --> 38:40.000
Let me go on now by giving you some more intuition

38:40.000 --> 38:45.000
on eigenvectors and eigenvalues in terms of graphs.

38:45.000 --> 38:49.000
So eigenvectors and eigenvalues are very useful things,

38:49.000 --> 38:53.000
but with graphs they have some really neat properties.

38:53.000 --> 38:56.000
So remember this, okay?

38:56.000 --> 38:58.000
This is what we just saw.

38:58.000 --> 39:05.000
We have pi as an eigenvector with eigenvalue 1.

39:05.000 --> 39:09.000
But we can actually say more things, okay?

39:09.000 --> 39:14.000
There's something called the spectrum of a matrix.

39:14.000 --> 39:16.000
I'm not sure if you saw that.

39:16.000 --> 39:18.000
Have you seen that?

39:18.000 --> 39:20.000
Have you seen that spectrum?

39:20.000 --> 39:22.000
Yes? Good.

39:22.000 --> 39:24.000
That means this will be very easy, right?

39:24.000 --> 39:27.000
No?

39:27.000 --> 39:30.000
So assume now, now I'm going to give you some intuition.

39:30.000 --> 39:33.000
Assume you have a D regular graph.

39:33.000 --> 39:38.000
So that's a graph where all the nodes have a degree of D.

39:38.000 --> 39:44.000
So there are all three things coming out, for example.

39:44.000 --> 39:46.000
Okay?

39:46.000 --> 39:52.000
And now we have a, which is the adjacency matrix for this.

39:52.000 --> 39:55.000
So a times x, okay?

39:55.000 --> 40:01.000
So this is just a matrix multiplication of a times vector x

40:01.000 --> 40:06.000
equal vector y, okay?

40:06.000 --> 40:11.000
And an eigenvector, this is refresher.

40:11.000 --> 40:20.000
An eigenvector is a vector x such that this is equal to some number times that, okay?

40:20.000 --> 40:27.000
So what happens with degree D?

40:27.000 --> 40:34.000
Now we're going to connect the eigenvalues, eigenvectors with graphs, okay?

40:34.000 --> 40:39.000
Graphs, which are these visual topological things, like on the web.

40:39.000 --> 40:42.000
And matrices, which is just a bunch of numbers.

40:42.000 --> 40:44.000
How does it connect?

40:44.000 --> 40:48.000
Suppose all the nodes have degree D and G is connected.

40:48.000 --> 40:52.000
So it's a D regular graph, huh?

40:52.000 --> 40:54.000
Okay.

40:54.000 --> 40:58.000
What are some eigenvalues?

40:58.000 --> 41:00.000
Well, let's try.

41:00.000 --> 41:07.000
Let's say we try to vector y, y, y, y only once, this graph, okay?

41:07.000 --> 41:14.000
Then a times x will be D, D into all the D's.

41:14.000 --> 41:20.000
Because each node has three outgoing things, but also three incoming things.

41:20.000 --> 41:25.000
So the number of ways of going into a node is D.

41:25.000 --> 41:29.000
So that means D is an eigenvalue.

41:29.000 --> 41:35.000
So if you have a graph with only degree D, well D is an eigenvalue.

41:35.000 --> 41:40.000
So eigenvalue is somehow connected with the degree of the graph.

41:40.000 --> 41:41.000
It's funny, huh?

41:41.000 --> 41:44.000
Interesting, huh?

41:44.000 --> 41:46.000
Okay.

41:46.000 --> 41:54.000
So the vector of all the nodes has an eigenvalue of D, okay?

41:54.000 --> 41:58.000
This is actually what's called the principal eigenvector.

41:58.000 --> 42:00.000
But let's look at some other graphs.

42:00.000 --> 42:05.000
So the D regular graph is a very simple uniform graph.

42:05.000 --> 42:07.000
Let's look at some other ones.

42:07.000 --> 42:10.000
Very interesting, okay?

42:10.000 --> 42:11.000
In general.

42:11.000 --> 42:17.000
Now, there's a concept called spectrograph of a graph.

42:17.000 --> 42:23.000
So if we have now a matrix A, a JCC represents a graph.

42:23.000 --> 42:26.000
V times A is equal to lambda times V.

42:26.000 --> 42:30.000
Well, if it's a column vector, you can say A V is lambda V.

42:30.000 --> 42:33.000
Here we have row vectors.

42:33.000 --> 42:38.000
So if A is a real symmetric matrix, so for non-directed graphs it's symmetric,

42:38.000 --> 42:44.000
real numbers, then it has n eigenvectors and n eigenvalues.

42:44.000 --> 42:47.000
And all the eigenvalues are real numbers.

42:47.000 --> 42:48.000
And you could order them.

42:48.000 --> 42:51.000
Lambda 1 and lambda 2 up to lambda n.

42:51.000 --> 42:53.000
That's something you can show.

42:53.000 --> 42:55.000
And the eigenvectors are orthogonal.

42:55.000 --> 42:59.000
So they're orthogonal to each other.

42:59.000 --> 43:04.000
And if G is a D regular graph, then lambda 1 is equal to D.

43:04.000 --> 43:12.000
Somehow, degree of the graph is connected to the eigenvalue.

43:12.000 --> 43:14.000
Okay?

43:14.000 --> 43:18.000
For a random walk matrix, which is not the degree of D,

43:18.000 --> 43:24.000
which is a random walk matrix, you have normalized.

43:24.000 --> 43:27.000
This is the one where you have probabilities.

43:27.000 --> 43:30.000
The principal eigenvalue is 1.

43:30.000 --> 43:31.000
Here you have probabilities.

43:31.000 --> 43:33.000
It's not that JCC, yeah?

43:33.000 --> 43:36.000
It's the probabilities that eigenvalue is 1.

43:36.000 --> 43:40.000
Okay?

43:40.000 --> 43:42.000
This I will skip.

43:42.000 --> 43:45.000
There is another concept called graph laplation,

43:45.000 --> 43:46.000
but I would not use it.

43:46.000 --> 43:49.000
But Saruna wants to tell you about it,

43:49.000 --> 43:53.000
but I'm not going to tell you about it.

43:53.000 --> 44:00.000
And the set of all the eigenvalues is called the spectra of the graph.

44:00.000 --> 44:02.000
Okay?

44:02.000 --> 44:06.000
And this could be for the A, JCC,

44:06.000 --> 44:09.000
or the transition probability matrix M,

44:09.000 --> 44:12.000
or the L matrix, which I'm not talking about.

44:12.000 --> 44:15.000
And there's a very interesting number called

44:15.000 --> 44:19.000
the difference between lambda 1 and lambda 2.

44:19.000 --> 44:22.000
So lambda 1 is the principal eigenvalue,

44:22.000 --> 44:25.000
but lambda 2 is also interesting.

44:25.000 --> 44:29.000
And there's a number where lambda 1 minus lambda 2,

44:29.000 --> 44:32.000
which has a name, which is called the eigengap,

44:32.000 --> 44:34.000
or the spectral gap.

44:34.000 --> 44:36.000
Okay?

44:36.000 --> 44:39.000
And for N, it's 1 minus lambda 2,

44:39.000 --> 44:42.000
because lambda 1 is equal to 1.

44:42.000 --> 44:44.000
Okay?

44:44.000 --> 44:46.000
Fine.

44:46.000 --> 44:49.000
What if the graph is disconnected?

44:49.000 --> 44:53.000
Okay, now we're going to show some examples

44:53.000 --> 44:55.000
to make more pure intuition,

44:55.000 --> 44:58.000
and that will all help for later

44:58.000 --> 45:00.000
when we start thinking of the paint track.

45:00.000 --> 45:02.000
Okay?

45:02.000 --> 45:05.000
What happens if the graph is disconnected?

45:05.000 --> 45:10.000
Well, lambda 1 is equal to lambda 2.

45:10.000 --> 45:12.000
That's weird enough.

45:12.000 --> 45:14.000
If the graph is disconnected,

45:14.000 --> 45:20.000
you could actually say something about these two highest eigenvalues.

45:20.000 --> 45:22.000
Okay?

45:22.000 --> 45:25.000
So let's see how it works.

45:25.000 --> 45:28.000
So now I'm going to give you some intuition.

45:28.000 --> 45:31.000
So let's say we have a graph that's not connected.

45:31.000 --> 45:33.000
Two components.

45:33.000 --> 45:36.000
Each one is deregular, just for simplicity.

45:36.000 --> 45:39.000
So each one has the same number of names.

45:39.000 --> 45:41.000
So we can have two little triangles.

45:41.000 --> 45:45.000
So what are some eigenvalues for this?

45:45.000 --> 45:49.000
Well, for example,

45:49.000 --> 45:52.000
if you put 1's on the A,

45:52.000 --> 45:54.000
and 0's on the B,

45:54.000 --> 45:56.000
then you get a vector, right?

45:56.000 --> 45:58.000
1, 1, 1, 0, 0, 0.

45:58.000 --> 46:01.000
Or you can put 1's on the B,

46:01.000 --> 46:04.000
and 0's on the A, right?

46:04.000 --> 46:08.000
So if you put 1's on the A,

46:08.000 --> 46:11.000
and 0's on the B,

46:11.000 --> 46:13.000
and you multiply by A,

46:13.000 --> 46:16.000
A times x prime here,

46:16.000 --> 46:18.000
you add up all the degrees.

46:18.000 --> 46:22.000
So you get d, d, d, d with 0's.

46:22.000 --> 46:26.000
That means d is an eigenvalue.

46:26.000 --> 46:29.000
But you also have another vector,

46:29.000 --> 46:32.000
orthogonal, 0's and 1's on the B,

46:32.000 --> 46:35.000
and it also gives d, d, d, d, d, d.

46:35.000 --> 46:40.000
So you have two separate eigenvalues

46:40.000 --> 46:42.000
that are the same.

46:42.000 --> 46:43.000
Okay?

46:43.000 --> 46:46.000
Notice if the degree would be different for me,

46:46.000 --> 46:48.000
we would have different values.

46:48.000 --> 46:50.000
We would have d1 and d2.

46:50.000 --> 46:52.000
We would have d for both.

46:52.000 --> 46:54.000
So they're the same.

46:54.000 --> 47:00.000
And you can kind of do approximation now.

47:00.000 --> 47:03.000
So we saw that if you have this,

47:03.000 --> 47:06.000
the eigenvalues are the same.

47:06.000 --> 47:08.000
You have two eigenvalues that are the same.

47:08.000 --> 47:12.000
Now assume that it's almost,

47:12.000 --> 47:14.000
almost disconnected.

47:14.000 --> 47:17.000
We only have a small number of links here.

47:17.000 --> 47:19.000
Well, it turns out,

47:19.000 --> 47:24.000
lambda 1 and lambda 2 will be very close to each other.

47:24.000 --> 47:26.000
It will be approximately 0.

47:26.000 --> 47:29.000
So you can see that the connectedness

47:29.000 --> 47:32.000
are somehow related to the eigenvalues.

47:32.000 --> 47:36.000
Okay?

47:36.000 --> 47:37.000
Okay.

47:37.000 --> 47:40.000
For every connected,

47:40.000 --> 47:44.000
normal bipartite, undirected graph,

47:44.000 --> 47:47.000
the distribution converges to a limit.

47:47.000 --> 47:49.000
Okay?

47:49.000 --> 47:52.000
A unique stationary distribution, pi,

47:52.000 --> 47:55.000
and it's regular, it's uniform.

47:55.000 --> 47:56.000
Okay?

47:56.000 --> 47:58.000
Why connected?

47:58.000 --> 48:00.000
I mentioned already, yeah?

48:00.000 --> 48:02.000
The graph has to be connected.

48:02.000 --> 48:07.000
What happens if it's not connected?

48:07.000 --> 48:11.000
What happens if it's not connected?

48:11.000 --> 48:13.000
You see, I explained it already.

48:13.000 --> 48:15.000
In case that you don't have one,

48:15.000 --> 48:17.000
you need stationary distribution then.

48:17.000 --> 48:20.000
You can have one or another one.

48:20.000 --> 48:21.000
Okay?

48:21.000 --> 48:25.000
What if it's bipartite?

48:25.000 --> 48:28.000
Then you will have all the probabilities on one side,

48:28.000 --> 48:30.000
so you can divide the graph into two sides.

48:30.000 --> 48:33.000
All the probabilities on one side are not 0.

48:33.000 --> 48:35.000
The other side is 0s,

48:35.000 --> 48:38.000
and if you do one step, it all shifts to the other side,

48:38.000 --> 48:40.000
and you have oscillation.

48:40.000 --> 48:42.000
There's no convergence.

48:43.000 --> 48:45.000
And what about directed graphs?

48:45.000 --> 48:48.000
And now we've got to start going to directed graphs.

48:48.000 --> 48:50.000
So now your body needs to be tuition.

48:50.000 --> 48:53.000
What about directed graphs?

48:53.000 --> 48:55.000
Okay?

48:55.000 --> 48:57.000
So here's a directed graph.

48:57.000 --> 49:01.000
It turns out the directed graph

49:01.000 --> 49:06.000
has to be strongly connected.

49:06.000 --> 49:08.000
Remember, we said what it means, huh?

49:08.000 --> 49:10.000
That means there is a directed path

49:10.000 --> 49:12.000
and it knows another.

49:12.000 --> 49:15.000
What happens if it's not strongly connected?

49:15.000 --> 49:17.000
Oh, you have to have intuition there.

49:17.000 --> 49:20.000
So an example of that in the beginning.

49:20.000 --> 49:23.000
If it's not strongly connected,

49:23.000 --> 49:29.000
then they say walks will leak.

49:29.000 --> 49:35.000
It means that if it's not strongly connected,

49:35.000 --> 49:37.000
what happens?

49:37.000 --> 49:38.000
Okay?

49:38.000 --> 49:40.000
There's one thing.

49:40.000 --> 49:42.000
Here's another one.

49:42.000 --> 49:46.000
Notice this graph here.

49:46.000 --> 49:48.000
So this one on the left is strongly connected.

49:48.000 --> 49:49.000
So we're good.

49:49.000 --> 49:53.000
The right one is also strongly connected.

49:53.000 --> 49:55.000
No, this one is not strongly connected.

49:55.000 --> 49:57.000
But this one has another problem.

49:57.000 --> 49:59.000
It's not...

49:59.000 --> 50:03.000
You have actually two cycles going like this.

50:03.000 --> 50:05.000
Okay?

50:05.000 --> 50:11.000
And this is a property called periodicity.

50:11.000 --> 50:13.000
Huh?

50:13.000 --> 50:16.000
A, the graph has to be A periodic.

50:16.000 --> 50:19.000
So this is kind of generalizing by part-time.

50:19.000 --> 50:20.000
Done.

50:20.000 --> 50:25.000
Visits to some of should never be a multiple of some number.

50:25.000 --> 50:29.000
So here, visits will be multiple of three steps.

50:29.000 --> 50:30.000
Always.

50:30.000 --> 50:33.000
Well, if you do that, the whole thing's going to oscillate.

50:33.000 --> 50:34.000
Done.

50:34.000 --> 50:36.000
Okay?

50:36.000 --> 50:39.000
So if you do that, the whole thing will oscillate.

50:39.000 --> 50:43.000
And so it's not going to be convergent.

50:43.000 --> 50:46.000
So it has to be A periodic.

50:46.000 --> 50:49.000
If you don't, you're not allowed to have that.

50:49.000 --> 50:52.000
Okay?

50:52.000 --> 50:57.000
So the greatest common divisor of the lengths of all the cycles is one.

50:57.000 --> 51:03.000
So you can see some intuition here about the graph.

51:03.000 --> 51:04.000
Okay.

51:04.000 --> 51:11.000
So all of that was kind of preliminary stuff to get your neurons moving.

51:11.000 --> 51:14.000
And now that we can start talking about page rank.

51:14.000 --> 51:15.000
Okay?

51:15.000 --> 51:20.000
So now I'm going to talk about mobile page rank.

51:20.000 --> 51:25.000
So first, I'll give you a little history of what search.

51:25.000 --> 51:32.000
So this all started a long time ago in prehistory.

51:32.000 --> 51:34.000
Another millennium.

51:34.000 --> 51:38.000
1989, okay, which is a long time ago.

51:38.000 --> 51:40.000
It's really super long ago.

51:40.000 --> 51:45.000
It's like, before the prince was born or something.

51:45.000 --> 51:49.000
So here you have the first generation of search.

51:49.000 --> 51:53.000
So you have people who are making web pages.

51:53.000 --> 51:55.000
And people want to search them.

51:55.000 --> 51:58.000
The first generation was manual curation.

51:58.000 --> 52:02.000
So Yahoo!, which started back in those days.

52:02.000 --> 52:12.000
There was little gnomes or monks sat in an office looking at all the web pages and kind of making directories.

52:12.000 --> 52:14.000
And I went science.

52:14.000 --> 52:15.000
I click on science.

52:15.000 --> 52:16.000
It's trun.

52:16.000 --> 52:17.000
Okay?

52:17.000 --> 52:20.000
Yeah, but that's kind of not scalable.

52:20.000 --> 52:21.000
Okay?

52:21.000 --> 52:24.000
So then now we have second generation.

52:25.000 --> 52:31.000
And there was a very nice one called Alfa Vista, which you have probably never used, which I used.

52:31.000 --> 52:35.000
And this was classical information retrieval.

52:35.000 --> 52:38.000
So basically they look at the text in the pages.

52:38.000 --> 52:43.000
If there's lots of words on astronomy, then it's based on, then it's astronomy.

52:43.000 --> 52:44.000
Okay?

52:44.000 --> 52:45.000
And then the indices.

52:45.000 --> 52:48.000
But this didn't work very well.

52:48.000 --> 52:52.000
And it was, and it was spammed.

52:52.000 --> 52:54.000
People did something called term spam.

52:54.000 --> 52:57.000
It was very easy to cheat from this.

52:57.000 --> 53:00.000
And then the third generation came.

53:00.000 --> 53:02.000
And it basically took over.

53:02.000 --> 53:04.000
This was Google Page Drive.

53:04.000 --> 53:05.000
Okay?

53:05.000 --> 53:08.000
So this is the short history of web search.

53:08.000 --> 53:10.000
Okay?

53:10.000 --> 53:17.000
So what I'm going to do now is I'm going to explain Google Page Drive.

53:17.000 --> 53:24.000
And we're going to use all our intuition on graphs and matrices and all that stuff

53:24.000 --> 53:28.000
to really see how to design it and not to make it work.

53:28.000 --> 53:29.000
Okay?

53:29.000 --> 53:34.000
But as noticed, it's three o'clock, so we're going to make a break first.

53:34.000 --> 53:35.000
Okay?

53:35.000 --> 53:37.000
Design Page Drive.

53:37.000 --> 53:43.000
And we're going to use some of the intuition we saw before the break.

53:43.000 --> 53:46.000
Okay?

53:47.000 --> 53:51.000
So we have a bunch of pages.

53:51.000 --> 53:54.000
And here we're talking about votes.

53:54.000 --> 53:57.000
So it's like the fluid that you have above.

53:57.000 --> 54:00.000
And you distribute the votes to outgoing links.

54:00.000 --> 54:02.000
Okay?

54:02.000 --> 54:10.000
So if a page J has some quotes, rj, and n outlink, each link gets rj over n.

54:10.000 --> 54:11.000
Okay?

54:11.000 --> 54:13.000
So that's here.

54:13.000 --> 54:16.000
And so pages will vote.

54:16.000 --> 54:21.000
So the idea is that the more votes you get, the more important you are.

54:21.000 --> 54:23.000
It's like in an election.

54:23.000 --> 54:28.000
And if your page is important, then you have more votes, rj is more.

54:28.000 --> 54:30.000
So a vote from an important page is more.

54:30.000 --> 54:32.000
So that's like what we saw before.

54:32.000 --> 54:34.000
Okay?

54:35.000 --> 54:41.000
And the importance of a page is the sum of the votes, the inlinks.

54:41.000 --> 54:44.000
So the other pages then vote for it.

54:44.000 --> 54:45.000
Okay?

54:45.000 --> 54:48.000
So this is something we saw, kind of.

54:48.000 --> 54:49.000
Okay?

54:49.000 --> 54:52.000
This is actually very similar to random one.

54:52.000 --> 55:05.000
So we can actually say that a Google Page Drive is the principal driving vector of the transition matrix of the web graph.

55:05.000 --> 55:06.000
Okay?

55:07.000 --> 55:15.000
So you have the web graph, which is huge, billions of links.

55:15.000 --> 55:17.000
So the matrices are very big.

55:17.000 --> 55:18.000
Okay?

55:18.000 --> 55:20.000
So we're going to compute this.

55:20.000 --> 55:31.000
We're going to compute the eigenvector of a matrix, which is 10 billion by 10 billion on the side.

55:31.000 --> 55:35.000
That makes how many elements inside that matrix?

55:35.000 --> 55:40.000
Well, 10 to the 20th elements in there.

55:40.000 --> 55:42.000
So that's a lot, right?

55:42.000 --> 55:48.000
So can you see any issues with that?

55:48.000 --> 55:55.000
Well, I mean, not so many computers can store 10 to the 20.

55:55.000 --> 55:56.000
Okay?

55:57.000 --> 55:59.000
That's one issue.

56:01.000 --> 56:02.000
But there's more issues.

56:02.000 --> 56:05.000
So we're trying to make it practical now, aren't we?

56:05.000 --> 56:09.000
So one issue is the matrix is huge.

56:09.000 --> 56:13.000
The other issue is, well, remember this diagram?

56:13.000 --> 56:18.000
This is the structure of the web.

56:18.000 --> 56:26.000
Well, in order for there to be a unique stationary distribution, it has to be a strongly connected component.

56:26.000 --> 56:29.000
So is this thing a strongly connected component?

56:29.000 --> 56:30.000
No.

56:30.000 --> 56:33.000
I mean, there's one inside, but it's not.

56:33.000 --> 56:35.000
So that's a problem, okay?

56:35.000 --> 56:36.000
That's another problem.

56:36.000 --> 56:39.000
It's not strongly connected.

56:39.000 --> 56:43.000
So it's a directional graph.

56:43.000 --> 56:48.000
So here, for example, so there's two problems.

56:48.000 --> 56:52.000
So the Google people have some very nice terminology for this.

56:52.000 --> 57:00.000
So here we have a node which only has inlinks and no outlinks.

57:00.000 --> 57:04.000
So this one is called a dead end.

57:04.000 --> 57:09.000
We set dead end, and we saw it already before the break.

57:09.000 --> 57:12.000
So you can say the votes leak out.

57:12.000 --> 57:16.000
Everything collects there, and there's no, they're not circulating anymore.

57:16.000 --> 57:18.000
That's one problem.

57:18.000 --> 57:20.000
Or another issue.

57:20.000 --> 57:22.000
So here's another graph.

57:22.000 --> 57:24.000
So this graph has a problem too.

57:24.000 --> 57:27.000
Can you see what the problem is here?

57:27.000 --> 57:31.000
So here you have three nodes.

57:31.000 --> 57:36.000
So the Google people call this a spider trap.

57:36.000 --> 57:38.000
Something that traps spiders.

57:38.000 --> 57:43.000
I'm not sure why they call it a spider trap, but it's called a spider trap.

57:43.000 --> 57:45.000
That's another problem.

57:45.000 --> 57:47.000
So the votes disappear.

57:47.000 --> 57:49.000
They all collect there.

57:49.000 --> 57:51.000
They're no longer circulating.

57:51.000 --> 57:53.000
And of course it's not strongly connected.

57:53.000 --> 57:57.000
So again, these are all problems we have to fix.

57:57.000 --> 57:59.000
Okay?

57:59.000 --> 58:01.000
So how do we fix it?

58:01.000 --> 58:04.000
Well, we have to fix the graph.

58:04.000 --> 58:08.000
We have to make it strongly connected and empiric.

58:08.000 --> 58:11.000
Those were the two positions.

58:11.000 --> 58:14.000
Strongly connected and empiric.

58:14.000 --> 58:16.000
The solution of Google.

58:16.000 --> 58:18.000
Okay?

58:18.000 --> 58:22.000
This is very similar to the evaporation idea.

58:22.000 --> 58:30.000
If you make very, very small leaks from every node to every other node.

58:30.000 --> 58:32.000
So this is the evaporation.

58:32.000 --> 58:39.000
It means there's a small probability of jumping from any node to any other node.

58:39.000 --> 58:42.000
But the main graph is still the same.

58:42.000 --> 58:45.000
So here's your main graph.

58:45.000 --> 58:50.000
Then you have another graph with very tiny, tiny probabilities.

58:50.000 --> 58:53.000
But between every node and every node is very tiny.

58:53.000 --> 58:56.000
And you basically sum them together.

58:56.000 --> 58:58.000
Okay?

58:58.000 --> 59:01.000
So it's got very nice innovation and it turns into that.

59:01.000 --> 59:03.000
Okay?

59:03.000 --> 59:07.000
So the idea is that you have a random walk.

59:07.000 --> 59:14.000
And when you're at a node, you will either follow the link or you will jump.

59:14.000 --> 59:17.000
So it's basically the evaporation idea.

59:17.000 --> 59:22.000
Some probability here, if you call it beta, you follow the real link.

59:22.000 --> 59:27.000
And with one minus beta, you just jump to some random page.

59:27.000 --> 59:29.000
Okay?

59:29.000 --> 59:32.000
And usually it's very close to one.

59:32.000 --> 59:37.000
Now, that means close to the time, you keep following links.

59:37.000 --> 59:42.000
But at one step to five or ten links, you jump.

59:42.000 --> 59:46.000
So it's like you walk for five steps and you jump.

59:46.000 --> 59:51.000
So if you're in a spider trap going in a circle,

59:51.000 --> 59:56.000
after five to ten steps, you will jump out from the spider trap.

59:56.000 --> 59:58.000
Okay?

59:58.000 --> 01:00:03.000
So if you go to a dead end, once you're in the dead end, there's no way of getting out.

01:00:03.000 --> 01:00:05.000
So you will immediately jump out.

01:00:05.000 --> 01:00:11.000
So dead end is a little bit special because there's no link going out.

01:00:11.000 --> 01:00:14.000
So the only way to get out is to teleport.

01:00:14.000 --> 01:00:16.000
Okay?

01:00:16.000 --> 01:00:19.000
So if you're a dead end, you're always going to teleport.

01:00:19.000 --> 01:00:22.000
So here's my graph.

01:00:22.000 --> 01:00:26.000
So here's my transition matrix for this graph.

01:00:26.000 --> 01:00:30.000
But this graph has maybe problems.

01:00:30.000 --> 01:00:33.000
We don't know. Maybe you have spider traps dead ends.

01:00:33.000 --> 01:00:38.000
So we have another graph with very small values.

01:00:38.000 --> 01:00:40.000
Okay?

01:00:40.000 --> 01:00:43.000
Here they're not so small because you only have five nodes.

01:00:43.000 --> 01:00:49.000
But if I have ten billion nodes, the value of each one of these numbers will be less than one over ten billion.

01:00:49.000 --> 01:00:50.000
Okay?

01:00:50.000 --> 01:00:53.000
So this is what we call the teleportation matrix.

01:00:53.000 --> 01:01:00.000
So you will combine these two matrices to get a new transition matrix.

01:01:00.000 --> 01:01:02.000
Okay?

01:01:02.000 --> 01:01:05.000
Combine them so you make the sum of them.

01:01:05.000 --> 01:01:09.000
So this one is the matrix as you will do with the probability beta.

01:01:09.000 --> 01:01:11.000
So this is the step.

01:01:11.000 --> 01:01:15.000
And the teleportation, you will do with one minus beta.

01:01:15.000 --> 01:01:19.000
Okay? And then you combine them.

01:01:19.000 --> 01:01:23.000
Notice you combine them.

01:01:23.000 --> 01:01:26.000
So this one is beta times this one.

01:01:26.000 --> 01:01:29.000
Plus one minus beta times this.

01:01:29.000 --> 01:01:32.000
Except here you have one.

01:01:32.000 --> 01:01:35.000
And not one minus beta.

01:01:35.000 --> 01:01:38.000
Well that's because it's a dead end.

01:01:38.000 --> 01:01:41.000
You can't get out here.

01:01:41.000 --> 01:01:43.000
Here there's nothing here.

01:01:43.000 --> 01:01:48.000
So that means for the dead ends, you have to have an immediate teleport.

01:01:48.000 --> 01:01:50.000
Okay?

01:01:50.000 --> 01:01:52.000
There you have to have an immediate teleport.

01:01:52.000 --> 01:01:56.000
So you have one minus beta if these are not all zeros.

01:01:56.000 --> 01:02:01.000
But if it's zero you have to get out from node one.

01:02:01.000 --> 01:02:02.000
Okay?

01:02:02.000 --> 01:02:07.000
So that gives me this matrix here.

01:02:07.000 --> 01:02:11.000
Notice this one, second row.

01:02:11.000 --> 01:02:14.000
Here it's zeros.

01:02:14.000 --> 01:02:16.000
That means you don't get out.

01:02:16.000 --> 01:02:18.000
Here there you're stuck.

01:02:18.000 --> 01:02:22.000
But you have to give it probabilities that add to one.

01:02:22.000 --> 01:02:23.000
Okay?

01:02:23.000 --> 01:02:30.000
So that means you have to multiply this teleportation matrix by one.

01:02:30.000 --> 01:02:34.000
So that gives you one fourth probability to go into any other node.

01:02:34.000 --> 01:02:36.000
Okay?

01:02:36.000 --> 01:02:39.000
Okay, fine.

01:02:39.000 --> 01:02:41.000
Is it fixed?

01:02:41.000 --> 01:02:43.000
Well if beta is zero it doesn't work.

01:02:43.000 --> 01:02:47.000
But we assume beta is never going to be zero.

01:02:47.000 --> 01:02:51.000
But there's still other problems to make it really work.

01:02:51.000 --> 01:02:52.000
Okay?

01:02:52.000 --> 01:02:54.000
So you have this huge matrix.

01:02:54.000 --> 01:03:02.000
How does the matrix, the paycheck matrix look if you have ten billion pages?

01:03:02.000 --> 01:03:04.000
Pretty big, huh?

01:03:04.000 --> 01:03:06.000
Dense matrix.

01:03:06.000 --> 01:03:09.000
All the elements are basically non-zero.

01:03:09.000 --> 01:03:12.000
Most of them are non-zero.

01:03:12.000 --> 01:03:15.000
N squared, non-zero elements.

01:03:15.000 --> 01:03:17.000
That's a lot.

01:03:17.000 --> 01:03:19.000
It's not N.

01:03:19.000 --> 01:03:21.000
It's not the number of nodes times the degree.

01:03:21.000 --> 01:03:24.000
It's N squared.

01:03:24.000 --> 01:03:29.000
So okay, the Google people were scratching their head and saying,

01:03:29.000 --> 01:03:35.000
how do we implement this ten billion by ten billion matrix?

01:03:35.000 --> 01:03:38.000
Can you even store it in memory?

01:03:38.000 --> 01:03:41.000
How much memory would you need for that matrix?

01:03:41.000 --> 01:03:44.000
What about the, can you store it in memory?

01:03:44.000 --> 01:03:46.000
What do you think?

01:03:46.000 --> 01:03:51.000
Is there a system in today that could store a matrix like that?

01:03:51.000 --> 01:03:54.000
No one.

01:03:54.000 --> 01:04:00.000
I mean ten billion by ten billion, that's ten to the twentieth elements.

01:04:00.000 --> 01:04:04.000
Even Google today doesn't have like that kind of storage, okay?

01:04:04.000 --> 01:04:07.000
So the fix is you have to be smart as usual.

01:04:07.000 --> 01:04:09.000
Question?

01:04:09.000 --> 01:04:16.000
If the universe doesn't contain enough atoms to store the geometry?

01:04:16.000 --> 01:04:18.000
I might, sure.

01:04:18.000 --> 01:04:24.000
Probably if you had a computer the size of the earth you could store it though.

01:04:24.000 --> 01:04:30.000
Because sometimes we say there's ten to the seventy-six particles in the universe.

01:04:30.000 --> 01:04:34.000
So yeah, you're fine. If you have the universe you can store it though.

01:04:34.000 --> 01:04:37.000
I don't have the universe in my pocket.

01:04:37.000 --> 01:04:40.000
So I can't store it.

01:04:40.000 --> 01:04:43.000
So the idea is to be a little bit smart.

01:04:43.000 --> 01:04:49.000
The idea is not to add the teleportation to every single number,

01:04:49.000 --> 01:04:55.000
but to kind of keep it separate, okay?

01:04:55.000 --> 01:04:58.000
So here you have, this is the computation you're doing.

01:04:58.000 --> 01:05:00.000
You have some vector.

01:05:00.000 --> 01:05:02.000
You multiply by a paint rank.

01:05:02.000 --> 01:05:08.000
And you're basically looking for eigenvalue convergence of this thing, huh?

01:05:08.000 --> 01:05:12.000
But you don't want to store this matrix. It's to big.

01:05:12.000 --> 01:05:16.000
So what you do is you keep this one, the original one,

01:05:16.000 --> 01:05:21.000
which does not have all, which has lots of zeros, does not have the teleportation.

01:05:21.000 --> 01:05:25.000
And the teleportation is added only after that.

01:05:25.000 --> 01:05:28.000
So this is like a tax, okay?

01:05:28.000 --> 01:05:32.000
It's basically because it's always the same for every node.

01:05:32.000 --> 01:05:34.000
It doesn't depend on the node.

01:05:34.000 --> 01:05:37.000
That means you could add it in separately, okay?

01:05:37.000 --> 01:05:41.000
So this is like one minus theta over n.

01:05:41.000 --> 01:05:47.000
And so in that way you don't actually have to store ten to the twenty elements.

01:05:47.000 --> 01:05:50.000
The matrix is sparse, okay?

01:05:50.000 --> 01:05:57.000
This matrix, the number of elements, is basically similar to the number of edges, okay?

01:05:57.000 --> 01:06:00.000
So it's much, much less, okay?

01:06:00.000 --> 01:06:03.000
M is what's called a sparse matrix.

01:06:03.000 --> 01:06:06.000
So most of the entries in the M are zeros.

01:06:06.000 --> 01:06:11.000
You can implement it much more efficiently, okay?

01:06:11.000 --> 01:06:13.000
Okay?

01:06:13.000 --> 01:06:16.000
Of course you have to handle the dead ends, okay?

01:06:16.000 --> 01:06:20.000
Be careful with the dead ends because you have to jump out.

01:06:20.000 --> 01:06:24.000
For the dead ends, it's not one minus theta.

01:06:24.000 --> 01:06:29.000
You have to be careful because you need to jump out one over n for the dead ends, huh?

01:06:29.000 --> 01:06:31.000
Okay?

01:06:31.000 --> 01:06:33.000
And then you get something nice.

01:06:33.000 --> 01:06:35.000
So you get this nice figure.

01:06:35.000 --> 01:06:38.000
Each of the nodes here is proportional to the page rank.

01:06:38.000 --> 01:06:40.000
So B and C are very important.

01:06:40.000 --> 01:06:43.000
And E is not important.

01:06:43.000 --> 01:06:45.000
So what?

01:06:45.000 --> 01:06:47.000
Okay.

01:06:47.000 --> 01:06:50.000
Okay, so that's the basic page rank.

01:06:50.000 --> 01:06:58.000
But once people invent page rank, there's actually lots of extras that people want to do.

01:06:58.000 --> 01:07:02.000
So there's still kind of problems and we'll talk about some of them.

01:07:02.000 --> 01:07:10.000
The first thing is that page rank measures the popularity in general of the page.

01:07:10.000 --> 01:07:12.000
How popular is the page?

01:07:12.000 --> 01:07:16.000
But maybe I'm only interested in stamp collecting

01:07:16.000 --> 01:07:20.000
and I want to know what is the best page for stamp collecting

01:07:20.000 --> 01:07:24.000
and I'm not interested in, in general, popularity.

01:07:24.000 --> 01:07:27.000
Maybe there's not so many people doing stamp collecting

01:07:27.000 --> 01:07:34.000
and there's many more people interested in Kalashnikov machine guns than stamps.

01:07:34.000 --> 01:07:39.000
So there would be no stamp pages who had much less popularity.

01:07:39.000 --> 01:07:44.000
So you want maybe a page rank that knows about topics.

01:07:44.000 --> 01:07:47.000
Okay, so we'll explain that a little bit.

01:07:47.000 --> 01:07:54.000
And another thing is you can take this, you can also have used page rank to find similarities.

01:07:54.000 --> 01:07:59.000
That's important if I, for example, if I'm looking for pictures,

01:07:59.000 --> 01:08:04.000
I'm looking for pictures of trees, for example, and I have this very nice palm tree

01:08:04.000 --> 01:08:10.000
and I want similar pictures, you can use a similar algorithm than this

01:08:10.000 --> 01:08:14.000
to find similarity, similar pages.

01:08:14.000 --> 01:08:18.000
That's nice, okay, that's one thing.

01:08:18.000 --> 01:08:21.000
That's, that's making it very specific.

01:08:21.000 --> 01:08:32.000
Another problem is spam, okay, it's possible to spam or to cheat on the page rank

01:08:32.000 --> 01:08:36.000
and this is called web spanning and you can do things like live farms

01:08:36.000 --> 01:08:38.000
and there's a way around that.

01:08:38.000 --> 01:08:42.000
You have to somehow know what are trusted pages.

01:08:42.000 --> 01:08:45.000
So there's an algorithm called trust rank.

01:08:45.000 --> 01:08:51.000
And finally, the Hudson authorities, we, there's two kinds of importance.

01:08:51.000 --> 01:08:56.000
There's the pages that are important, but also the pages that lead to important pages.

01:08:56.000 --> 01:08:59.000
So page rank only has one measure.

01:08:59.000 --> 01:09:02.000
Okay, so that we saw last time.

01:09:02.000 --> 01:09:08.000
But I'm going to talk about these two, topic specific and web spamming.

01:09:08.000 --> 01:09:14.000
So beyond page rank, first it's topic specific.

01:09:14.000 --> 01:09:21.000
So I have some graph here with the heavy notes and the heavy links and the light links.

01:09:21.000 --> 01:09:24.000
But I'm interested in some kind of topic.

01:09:24.000 --> 01:09:30.000
So I want only to look at the good pages in a particular topic.

01:09:30.000 --> 01:09:31.000
So how do I do that?

01:09:31.000 --> 01:09:36.000
I have to give more influence to pages that are close to some topic.

01:09:36.000 --> 01:09:41.000
And the way to fix that is you change how you teleport.

01:09:41.000 --> 01:09:50.000
Instead of teleporting to any random page, you teleport to pages that are kind of rubbed,

01:09:50.000 --> 01:09:55.000
okay, that have something to do with sports or spam collecting.

01:09:56.000 --> 01:10:03.000
But once you know that you have the teleport set, you change the teleport set,

01:10:03.000 --> 01:10:06.000
you can still use the regular page rank.

01:10:06.000 --> 01:10:10.000
So that works really well for the topic specific element.

01:10:18.000 --> 01:10:22.000
Okay, how do we get this teleport set?

01:10:22.000 --> 01:10:24.000
Well, there's different ways.

01:10:24.000 --> 01:10:27.000
You can use classic techniques from older search engines.

01:10:27.000 --> 01:10:33.000
You can look at the contents of the pages for that, okay?

01:10:33.000 --> 01:10:38.000
You could also look at who is making the query, okay?

01:10:38.000 --> 01:10:42.000
You could look at browsing history, okay?

01:10:42.000 --> 01:10:45.000
Find type Manchester, what do I mean?

01:10:45.000 --> 01:10:50.000
Do I mean football team or do I mean the city Manchester?

01:10:50.000 --> 01:10:53.000
Well, it depends on my browsing history, maybe, okay?

01:10:53.000 --> 01:10:58.000
So there's many ways to do that kind of stuff, okay?

01:10:58.000 --> 01:11:01.000
And that's how topics specific works.

01:11:01.000 --> 01:11:07.000
Another way you can extend the page rank is measuring similarity or proximity.

01:11:07.000 --> 01:11:09.000
So here's an example.

01:11:09.000 --> 01:11:12.000
Let's say we have this graph here.

01:11:12.000 --> 01:11:15.000
Look at these two notes, one and four.

01:11:15.000 --> 01:11:18.000
How close are they?

01:11:18.000 --> 01:11:22.000
Some sets, or seven and one.

01:11:22.000 --> 01:11:24.000
How close is it?

01:11:24.000 --> 01:11:27.000
Because the shortest path is the same.

01:11:27.000 --> 01:11:29.000
One, two.

01:11:29.000 --> 01:11:33.000
But maybe four is closer because there's more paths.

01:11:33.000 --> 01:11:36.000
Maybe four is closer to one than seven.

01:11:36.000 --> 01:11:40.000
Because seven is only one path, okay?

01:11:40.000 --> 01:11:42.000
Multiple two-out paths.

01:11:42.000 --> 01:11:46.000
Only one path from one to seven, okay?

01:11:46.000 --> 01:11:49.000
So that's one way of extending it.

01:11:49.000 --> 01:11:53.000
So this is called sim rank.

01:11:53.000 --> 01:11:55.000
So here's another example.

01:11:55.000 --> 01:12:00.000
I have four pictures and I want to show how similar are these pictures.

01:12:00.000 --> 01:12:04.000
So picture one has a house and a tree.

01:12:04.000 --> 01:12:07.000
Picture two has a house and a mountain.

01:12:07.000 --> 01:12:09.000
Picture three has a house and a tree.

01:12:09.000 --> 01:12:12.000
And four has a tree and a mountain.

01:12:12.000 --> 01:12:17.000
So which pictures are similar to picture one?

01:12:17.000 --> 01:12:21.000
How similar is picture one to four, okay?

01:12:21.000 --> 01:12:24.000
Or maybe there's ones that are closer.

01:12:24.000 --> 01:12:29.000
One to three might be closer because they're both having a house and a tree.

01:12:29.000 --> 01:12:35.000
So we can use something like patron to figure that out, okay?

01:12:35.000 --> 01:12:39.000
So this is kind of like topic-specific.

01:12:39.000 --> 01:12:45.000
Again, we want to bias the telechord sets.

01:12:45.000 --> 01:12:47.000
And recapitulate the page rank.

01:12:47.000 --> 01:12:51.000
So it's a kind of variation on the page rank.

01:12:51.000 --> 01:12:56.000
So the idea is that the telechord set is the node itself.

01:12:56.000 --> 01:13:00.000
So the node is closest to itself, okay?

01:13:00.000 --> 01:13:04.000
Usually the telechord set is all relevant nodes.

01:13:04.000 --> 01:13:08.000
But here the node is the one closest to itself, okay?

01:13:08.000 --> 01:13:13.000
So that's one way that you modify the page rank.

01:13:13.000 --> 01:13:18.000
You make random walks from a fixed node, okay?

01:13:18.000 --> 01:13:22.000
And then you can do things like, here's an example with authors,

01:13:22.000 --> 01:13:25.000
conferences, and tags.

01:13:25.000 --> 01:13:31.000
So articles, authors, people writing articles on this.

01:13:31.000 --> 01:13:34.000
So this you do it for all nodes.

01:13:34.000 --> 01:13:38.000
This is actually used in the website called pinterest.

01:13:38.000 --> 01:13:41.000
You may be using it for recognition.

01:13:41.000 --> 01:13:45.000
They use something like this, okay?

01:13:45.000 --> 01:13:51.000
So this is also known as page rank with restarts.

01:13:51.000 --> 01:13:54.000
So here's the example with the pictures.

01:13:54.000 --> 01:13:58.000
So what is the most related picture to picture one?

01:13:58.000 --> 01:13:59.000
Okay?

01:13:59.000 --> 01:14:02.000
You have your telechord set which is picture one.

01:14:02.000 --> 01:14:06.000
And you do your random walks with the restart.

01:14:06.000 --> 01:14:12.000
And the result of this is going to be picture three, okay?

01:14:12.000 --> 01:14:17.000
So if you look here, here you have your graph with seven nodes.

01:14:17.000 --> 01:14:21.000
Here you have your transition matrix, okay?

01:14:21.000 --> 01:14:26.000
And now you do the convergence of this, okay?

01:14:26.000 --> 01:14:28.000
And you can see, notice you have two groups.

01:14:28.000 --> 01:14:32.000
You have the pics, the four, the four pics on the top

01:14:32.000 --> 01:14:37.000
and the three attributes on the bottom, okay?

01:14:37.000 --> 01:14:44.000
So you compute the page rank matrix.

01:14:44.000 --> 01:14:49.000
And you can see that here you can do the restart, okay?

01:14:49.000 --> 01:14:51.000
On pic one.

01:14:51.000 --> 01:14:55.000
So from pic one, you go one, two, three, four,

01:14:55.000 --> 01:14:57.000
attack the telechords.

01:14:57.000 --> 01:15:06.000
And here you have the three things on the bottom, okay?

01:15:06.000 --> 01:15:11.000
And the result is that pic one and pic three are going to be the closest

01:15:11.000 --> 01:15:14.000
when you converge this, okay?

01:15:14.000 --> 01:15:18.000
That's one way of extending page rank.

01:15:18.000 --> 01:15:22.000
And in this other example, when I note one,

01:15:22.000 --> 01:15:27.000
you can see that one and four are pretty close, 0.24,

01:15:27.000 --> 01:15:31.000
but no seven is farther away, 0.07, okay?

01:15:31.000 --> 01:15:37.000
So basically doing the page rank with the restart, okay?

01:15:37.000 --> 01:15:41.000
So that gives us three kind of variations of page rank.

01:15:41.000 --> 01:15:46.000
It's a normal page rank, which teleports randomly.

01:15:46.000 --> 01:15:50.000
We have the topic-specific page rank,

01:15:50.000 --> 01:15:54.000
which teleports to pages that are relevant,

01:15:54.000 --> 01:16:00.000
and we have the same rank, which always teleports to the same node

01:16:00.000 --> 01:16:02.000
for finding similar notes.

01:16:02.000 --> 01:16:08.000
So these are three different ways of using page rank, okay?

01:16:08.000 --> 01:16:12.000
So now the final thing I want to say is web spamming.

01:16:12.000 --> 01:16:17.000
How do you, you can cheat on page rank, okay?

01:16:17.000 --> 01:16:20.000
What is web spamming?

01:16:20.000 --> 01:16:27.000
So web spamming is a deliberate action to boost a web page in ranking.

01:16:27.000 --> 01:16:33.000
And there's lots of these web, there's lots of spam pages, okay,

01:16:33.000 --> 01:16:39.000
which are created only to appear your rank results that should not be there.

01:16:39.000 --> 01:16:44.000
So this thing, like I mentioned before, has a very dignified name

01:16:44.000 --> 01:16:49.000
called search engine optimization, but it's basically cheating.

01:16:49.000 --> 01:16:53.000
So Google has spent a lot of effort combating this.

01:16:53.000 --> 01:16:57.000
So let me talk a little bit about cheating.

01:16:57.000 --> 01:16:59.000
How do you cheat on the web?

01:16:59.000 --> 01:17:01.000
In the early search engines, how did they work?

01:17:01.000 --> 01:17:05.000
So they crawl the web, they look at all the pages, they index the pages,

01:17:05.000 --> 01:17:10.000
and they respond to queries with your pages containing words.

01:17:10.000 --> 01:17:13.000
That's the old names that go for page rank, yeah.

01:17:13.000 --> 01:17:18.000
That's very easy to cheat there.

01:17:18.000 --> 01:17:21.000
How do you measure the importance?

01:17:21.000 --> 01:17:27.000
Well, in the early search engines, you look how many times the words are there,

01:17:27.000 --> 01:17:32.000
or what is the header, if the header words, okay?

01:17:32.000 --> 01:17:36.000
So of course it's very easy to cheat, you do that.

01:17:36.000 --> 01:17:41.000
So as people began to use search engines, there were companies

01:17:41.000 --> 01:17:44.000
that tried to exploit it to cheat.

01:17:44.000 --> 01:17:46.000
So here's an example.

01:17:46.000 --> 01:17:53.000
So I'm selling shirts, and I want lots of people to come to my website.

01:17:53.000 --> 01:17:56.000
So I want to pretend that my website is about movies.

01:17:56.000 --> 01:17:58.000
So how do I do that?

01:17:58.000 --> 01:18:00.000
Well, I use a technique.

01:18:00.000 --> 01:18:04.000
For the early search engines, it was pretty easy, okay?

01:18:04.000 --> 01:18:08.000
How do I make my page appear to be about movies?

01:18:08.000 --> 01:18:09.000
It's very easy.

01:18:09.000 --> 01:18:13.000
I add the word movies a thousand times to my page,

01:18:13.000 --> 01:18:17.000
but I make it so it's white so nobody sees it,

01:18:17.000 --> 01:18:21.000
and search engines will see it, yeah.

01:18:21.000 --> 01:18:28.000
And can you also spam on the importance of your page?

01:18:28.000 --> 01:18:30.000
Yeah, this is before page rank, yeah.

01:18:30.000 --> 01:18:34.000
So this doesn't work anymore now, giving it for history.

01:18:34.000 --> 01:18:36.000
But there's also a way to spam page rank,

01:18:36.000 --> 01:18:38.000
which I explained in a few minutes.

01:18:38.000 --> 01:18:42.000
It's just called link farms, okay?

01:18:42.000 --> 01:18:45.000
In other ways, you run the query movie,

01:18:45.000 --> 01:18:48.000
you see what is the page that came first.

01:18:48.000 --> 01:18:51.000
So that's the important page, and you take the text of that page,

01:18:51.000 --> 01:18:55.000
you just copy it into your cheat.

01:18:55.000 --> 01:19:02.000
This is called term spam, okay?

01:19:02.000 --> 01:19:06.000
So Google made a solution to that.

01:19:06.000 --> 01:19:10.000
Instead of using the words in the page,

01:19:10.000 --> 01:19:14.000
use the words in the link to the page,

01:19:14.000 --> 01:19:18.000
which is called the anchor text and the surrounding text,

01:19:18.000 --> 01:19:20.000
so what people say about the new.

01:19:20.000 --> 01:19:24.000
And of course, use page rank to measure the importance.

01:19:24.000 --> 01:19:28.000
So with page rank, the short seller doesn't work.

01:19:28.000 --> 01:19:31.000
His technique doesn't work anymore.

01:19:32.000 --> 01:19:37.000
It doesn't matter if the short seller puts the word movies in his pages,

01:19:37.000 --> 01:19:42.000
because no movie pages are going to link to this page, okay?

01:19:42.000 --> 01:19:49.000
So he's not going to be ranked high for movies, or even for shirts.

01:19:49.000 --> 01:19:51.000
But you can cheat on this.

01:19:51.000 --> 01:19:57.000
And this is called link farms, okay?

01:19:58.000 --> 01:20:04.000
Okay, so let's say the short seller, he creates 1,000 pages.

01:20:04.000 --> 01:20:09.000
Each of those pages links to the movie page, okay?

01:20:09.000 --> 01:20:12.000
Yeah.

01:20:12.000 --> 01:20:15.000
But those pages are no in-links.

01:20:15.000 --> 01:20:17.000
That doesn't really work, God.

01:20:17.000 --> 01:20:22.000
Even if he makes a million pages pointing to the shirt page,

01:20:22.000 --> 01:20:25.000
real important movie pages like IMDB,

01:20:25.000 --> 01:20:29.000
there's no way you can beat them, okay?

01:20:29.000 --> 01:20:39.000
But, but there is a way to beat page rank.

01:20:39.000 --> 01:20:43.000
We span farming, kind of coordinated with that.

01:20:43.000 --> 01:20:47.000
This has been used, and it's sometimes called Google bombing.

01:20:47.000 --> 01:20:51.000
A few years ago, now it works too.

01:20:51.000 --> 01:20:55.000
But if when George Bush was president,

01:20:55.000 --> 01:20:58.000
you type miserable failure in Google,

01:20:58.000 --> 01:21:01.000
it's a choice to the biography of George Bush.

01:21:01.000 --> 01:21:04.000
It's nice, isn't it?

01:21:04.000 --> 01:21:07.000
Miserable failure links to Bush,

01:21:07.000 --> 01:21:09.000
and it still does, it's called Google bombing.

01:21:09.000 --> 01:21:11.000
So how does that work?

01:21:11.000 --> 01:21:14.000
It's possible to do that, to cheat.

01:21:14.000 --> 01:21:17.000
This is called spam farming.

01:21:17.000 --> 01:21:22.000
It's possible to create a structure in the graph

01:21:22.000 --> 01:21:27.000
that concentrates the page rank of a particular page.

01:21:27.000 --> 01:21:30.000
Okay? How does that work?

01:21:30.000 --> 01:21:34.000
So, I'll show you the technique.

01:21:34.000 --> 01:21:38.000
So, basically it works like this.

01:21:38.000 --> 01:21:43.000
There's three, there's three kinds of pages.

01:21:43.000 --> 01:21:45.000
So let's say I'm a spammer.

01:21:45.000 --> 01:21:47.000
I want to cheat, okay?

01:21:47.000 --> 01:21:50.000
I want to increase the page rank of some page.

01:21:50.000 --> 01:21:52.000
So I look at the web,

01:21:52.000 --> 01:21:55.000
and there's three kinds of pages for my interview.

01:21:55.000 --> 01:21:58.000
There's inaccessible pages.

01:21:58.000 --> 01:22:00.000
That's pages owned by other people.

01:22:00.000 --> 01:22:02.000
Most of them are inaccessible.

01:22:02.000 --> 01:22:04.000
Then there's accessible pages.

01:22:04.000 --> 01:22:06.000
These are pages owned by other people,

01:22:06.000 --> 01:22:10.000
but I can add something to the blogs, for example,

01:22:10.000 --> 01:22:12.000
or comments, reviews.

01:22:12.000 --> 01:22:14.000
I can post there.

01:22:14.000 --> 01:22:17.000
I can put something there, even though I'm not the owner.

01:22:17.000 --> 01:22:19.000
It's called accessible pages.

01:22:19.000 --> 01:22:21.000
And finally, there's a small number of pages

01:22:21.000 --> 01:22:24.000
that are owned by me, spammer.

01:22:24.000 --> 01:22:26.000
These are called owned pages.

01:22:26.000 --> 01:22:28.000
So I have these three kinds of pages.

01:22:28.000 --> 01:22:30.000
So how can I use this?

01:22:30.000 --> 01:22:33.000
So that's the structure.

01:22:33.000 --> 01:22:36.000
So here's the web.

01:22:36.000 --> 01:22:38.000
This is the whole web.

01:22:38.000 --> 01:22:40.000
And here is the page,

01:22:40.000 --> 01:22:43.000
and I want to increase the page rank of this one.

01:22:43.000 --> 01:22:46.000
So how do I do it?

01:22:46.000 --> 01:22:49.000
I want to maximize the page rank of the team.

01:22:49.000 --> 01:22:51.000
The web has two kinds of pages.

01:22:51.000 --> 01:22:53.000
So the green ones,

01:22:53.000 --> 01:22:56.000
those are the ones that I can add something to,

01:22:56.000 --> 01:22:58.000
even though I'm not the owner,

01:22:58.000 --> 01:23:02.000
like their blogs, or I can put a comment, or something.

01:23:02.000 --> 01:23:05.000
Then the others are inaccessible.

01:23:05.000 --> 01:23:07.000
I have no control over them.

01:23:07.000 --> 01:23:09.000
Most of them are inaccessible.

01:23:09.000 --> 01:23:12.000
You might have a few pages where you can add,

01:23:12.000 --> 01:23:14.000
but most of them are owned by other people.

01:23:14.000 --> 01:23:16.000
So I can't do anything to her.

01:23:16.000 --> 01:23:18.000
Fine.

01:23:18.000 --> 01:23:20.000
So what do I do?

01:23:20.000 --> 01:23:22.000
Well, the first thing I do

01:23:22.000 --> 01:23:26.000
is I post on as many places as I can,

01:23:26.000 --> 01:23:28.000
links to team.

01:23:28.000 --> 01:23:32.000
I link to team from as many accessible pages as possible.

01:23:32.000 --> 01:23:34.000
That's the first step.

01:23:34.000 --> 01:23:36.000
It's not enough, but it's the first step.

01:23:36.000 --> 01:23:38.000
That will already increase a little bit

01:23:38.000 --> 01:23:41.000
the page rank of the team.

01:23:41.000 --> 01:23:43.000
But that's not enough.

01:23:43.000 --> 01:23:45.000
What I really have to do then,

01:23:45.000 --> 01:23:47.000
is I do another step

01:23:47.000 --> 01:23:51.000
where I construct what's called a link farm

01:23:51.000 --> 01:23:56.000
to multiply the page rank of team.

01:23:56.000 --> 01:23:59.000
So these red pages are my pages.

01:23:59.000 --> 01:24:01.000
So I buy a bunch of machines,

01:24:01.000 --> 01:24:03.000
or I rent machines,

01:24:03.000 --> 01:24:06.000
and I can write anything I want on them.

01:24:06.000 --> 01:24:10.000
This is my link farm, the obvious red pages.

01:24:10.000 --> 01:24:12.000
And the link farm pages

01:24:12.000 --> 01:24:14.000
will all point to team,

01:24:14.000 --> 01:24:16.000
and team points back to them.

01:24:16.000 --> 01:24:18.000
So it seems kind of weird,

01:24:18.000 --> 01:24:20.000
all these pages are going to point to team,

01:24:20.000 --> 01:24:24.000
and on team I make the link back.

01:24:24.000 --> 01:24:27.000
And that's called the link farm.

01:24:27.000 --> 01:24:30.000
And these red pages are owned by me.

01:24:30.000 --> 01:24:32.000
So how does this work?

01:24:32.000 --> 01:24:37.000
So this will actually improve my page rank.

01:24:37.000 --> 01:24:39.000
Notice there can be many here,

01:24:39.000 --> 01:24:42.000
not billions, but not billions.

01:24:42.000 --> 01:24:44.000
But there could be millions.

01:24:44.000 --> 01:24:46.000
So how can this work?

01:24:46.000 --> 01:24:48.000
So let's make some computations.

01:24:48.000 --> 01:24:51.000
Let's compute the page rank now.

01:24:51.000 --> 01:24:55.000
So let's say there's N pages

01:24:55.000 --> 01:24:57.000
that are getting accessible.

01:24:57.000 --> 01:24:59.000
N is huge numbers.

01:24:59.000 --> 01:25:02.000
And there's N pages that are owned by me.

01:25:02.000 --> 01:25:04.000
Which is also being numbered

01:25:04.000 --> 01:25:07.000
much smaller than N.

01:25:07.000 --> 01:25:12.000
Let's say that little x in green

01:25:12.000 --> 01:25:16.000
is the page rank that comes from the accessible pages.

01:25:16.000 --> 01:25:20.000
It's not so big, but there's some numbers.

01:25:20.000 --> 01:25:24.000
And Y is the page rank of page T.

01:25:24.000 --> 01:25:27.000
Now we can compute according to page rank

01:25:27.000 --> 01:25:29.000
what it's going to be.

01:25:29.000 --> 01:25:31.000
So first of all, what is the rank

01:25:31.000 --> 01:25:33.000
with one of these pages?

01:25:33.000 --> 01:25:35.000
What is the rank?

01:25:35.000 --> 01:25:37.000
Several sources of rank.

01:25:37.000 --> 01:25:41.000
One rank, one source comes from the outlet of T.

01:25:41.000 --> 01:25:47.000
But another one comes from the teleportation.

01:25:47.000 --> 01:25:49.000
So it's like this.

01:25:49.000 --> 01:25:53.000
So each form page has this rank.

01:25:53.000 --> 01:25:55.000
So Y is the rank of T.

01:25:55.000 --> 01:25:59.000
So it's beta Y over M

01:25:59.000 --> 01:26:03.000
plus 1 minus beta over N.

01:26:03.000 --> 01:26:04.000
See that?

01:26:04.000 --> 01:26:07.000
So it's the page rank coming from T

01:26:07.000 --> 01:26:10.000
and the teleportation rank.

01:26:10.000 --> 01:26:13.000
Okay?

01:26:13.000 --> 01:26:15.000
Okay, let's go on.

01:26:15.000 --> 01:26:18.000
So what is the rank of page T?

01:26:18.000 --> 01:26:24.000
Well, it's the page rank coming from the green pages

01:26:24.000 --> 01:26:26.000
plus all the page rank.

01:26:26.000 --> 01:26:29.000
These only have one update.

01:26:29.000 --> 01:26:31.000
And they're all going to T.

01:26:31.000 --> 01:26:34.000
So it's M times beta

01:26:34.000 --> 01:26:38.000
and this is the page rank coming from the red pages.

01:26:38.000 --> 01:26:41.000
Beta Y over M plus 1 minus beta over N.

01:26:41.000 --> 01:26:45.000
You also have teleportation to page T.

01:26:45.000 --> 01:26:47.000
So this is a very small one.

01:26:47.000 --> 01:26:48.000
Okay?

01:26:48.000 --> 01:26:50.000
So here we have a nice formula.

01:26:50.000 --> 01:26:52.000
So let's simplify this

01:26:52.000 --> 01:26:55.000
and see what we can learn from it.

01:26:55.000 --> 01:26:57.000
Okay?

01:26:57.000 --> 01:26:59.000
So we can simplify this a little bit.

01:26:59.000 --> 01:27:04.000
So this Y is equal to X plus beta squared Y

01:27:04.000 --> 01:27:07.000
plus this beta times 1 minus beta

01:27:07.000 --> 01:27:09.000
times M over N

01:27:09.000 --> 01:27:13.000
plus this very small number.

01:27:13.000 --> 01:27:15.000
Okay?

01:27:15.000 --> 01:27:19.000
This number we should remove is too small.

01:27:19.000 --> 01:27:21.000
And then we simplify.

01:27:21.000 --> 01:27:25.000
We have Y on both sides here.

01:27:25.000 --> 01:27:27.000
So it's 1 minus beta squared.

01:27:27.000 --> 01:27:32.000
So Y is equal to X divided by 1 minus beta squared

01:27:32.000 --> 01:27:36.000
plus this number

01:27:36.000 --> 01:27:42.000
divided by 1 minus beta squared.

01:27:42.000 --> 01:27:45.000
So it's some constant times M over N.

01:27:45.000 --> 01:27:48.000
So what does that mean?

01:27:48.000 --> 01:27:49.000
Okay?

01:27:49.000 --> 01:27:53.000
So the value of the constant is beta over 1 plus beta.

01:27:53.000 --> 01:27:55.000
Okay?

01:27:55.000 --> 01:28:03.000
What can we learn from this?

01:28:03.000 --> 01:28:05.000
What can we learn from this?

01:28:05.000 --> 01:28:09.000
How can we increase now the page rank of Y?

01:28:09.000 --> 01:28:13.000
Notice there is this M factor here.

01:28:13.000 --> 01:28:16.000
By making M large,

01:28:16.000 --> 01:28:19.000
we can make Y as large as we want.

01:28:19.000 --> 01:28:22.000
So independent of everybody else.

01:28:22.000 --> 01:28:25.000
If we put a million pages here,

01:28:25.000 --> 01:28:27.000
we make it large.

01:28:27.000 --> 01:28:30.000
If we put 10 billion, it's much bigger.

01:28:30.000 --> 01:28:33.000
You add a number proportional to M.

01:28:33.000 --> 01:28:37.000
So that means the more pages you put in the farm,

01:28:37.000 --> 01:28:40.000
the higher the page rank it gets.

01:28:40.000 --> 01:28:42.000
Okay?

01:28:42.000 --> 01:28:46.000
And that's how these big farms work.

01:28:46.000 --> 01:28:47.000
So how can that work?

01:28:47.000 --> 01:28:49.000
What is really the idea here?

01:28:49.000 --> 01:28:50.000
How is this working?

01:28:50.000 --> 01:28:53.000
Well, it's because these farm pages,

01:28:53.000 --> 01:28:57.000
they all get teleportation is going to them.

01:28:57.000 --> 01:29:00.000
And the more you have them,

01:29:00.000 --> 01:29:04.000
the bigger fraction of teleportations will go there.

01:29:04.000 --> 01:29:08.000
So the teleportation here,

01:29:08.000 --> 01:29:13.000
1 minus beta over N times M.

01:29:13.000 --> 01:29:17.000
So it depends on the fraction of M over N.

01:29:17.000 --> 01:29:20.000
The bigger that M is,

01:29:20.000 --> 01:29:23.000
the more the teleportation will go there,

01:29:23.000 --> 01:29:26.000
and the more you can increase the page rank.

01:29:26.000 --> 01:29:29.000
And it doesn't matter what anybody else does.

01:29:29.000 --> 01:29:31.000
They do whatever they want.

01:29:31.000 --> 01:29:35.000
If I'm rich enough, I just have to create a lot of pages,

01:29:35.000 --> 01:29:37.000
and the teleportation will go there,

01:29:37.000 --> 01:29:39.000
and I can increase that.

01:29:39.000 --> 01:29:42.000
So the search engine optimizers,

01:29:42.000 --> 01:29:45.000
this is what they do.

01:29:45.000 --> 01:29:46.000
Okay?

01:29:46.000 --> 01:29:51.000
The random teleportation from all the web to the farm nodes

01:29:51.000 --> 01:29:57.000
gets concentrated and pushed into page T.

01:29:57.000 --> 01:29:59.000
Okay?

01:29:59.000 --> 01:30:04.000
And this is how the big farms work.

01:30:04.000 --> 01:30:05.000
Okay?

01:30:05.000 --> 01:30:08.000
Actually, you might say,

01:30:08.000 --> 01:30:13.000
yeah, M is still going to be very small compared to M.

01:30:13.000 --> 01:30:14.000
This is true.

01:30:14.000 --> 01:30:20.000
But you don't have to have M be large compared to M.

01:30:20.000 --> 01:30:24.000
It just has to be larger than your competitors.

01:30:24.000 --> 01:30:26.000
So if you're a shirt seller,

01:30:26.000 --> 01:30:29.000
as long as you get higher up than other shirt sellers,

01:30:29.000 --> 01:30:30.000
you're good.

01:30:30.000 --> 01:30:34.000
You're not competing with really popular pages,

01:30:34.000 --> 01:30:35.000
like Amazon or someone.

01:30:35.000 --> 01:30:39.000
You're only competing with other shirt sellers.

01:30:39.000 --> 01:30:43.000
So M doesn't even have to be that large.

01:30:43.000 --> 01:30:48.000
But of course, the shirt sellers will all be paying these companies

01:30:48.000 --> 01:30:54.000
the search engine optimizers for increasing their rank.

01:30:54.000 --> 01:30:59.000
And the one who pays the most will increase the rank the most.

01:30:59.000 --> 01:31:00.000
Okay?

01:31:00.000 --> 01:31:05.000
So this was a big problem for people in the early days.

01:31:05.000 --> 01:31:09.000
They have now fixed sort of that problem.

01:31:09.000 --> 01:31:12.000
So a lot of the problem, you see how it works up.

01:31:12.000 --> 01:31:16.000
So a lot of the problem of this has been fixed now.

01:31:16.000 --> 01:31:22.000
This was a big problem in the first decade of the 2000s.

01:31:22.000 --> 01:31:24.000
Really big problem.

01:31:24.000 --> 01:31:28.000
But so Google spent a lot of effort to try to fix this.

01:31:28.000 --> 01:31:32.000
So the algorithm they use now is a secret.

01:31:32.000 --> 01:31:34.000
Nobody knows what it is.

01:31:34.000 --> 01:31:35.000
Okay?

01:31:35.000 --> 01:31:39.000
And does it fix the problem?

01:31:39.000 --> 01:31:40.000
I don't know.

01:31:40.000 --> 01:31:41.000
What do you think?

01:31:41.000 --> 01:31:45.000
Is there still doing people doing search engine optimization?

01:31:45.000 --> 01:31:46.000
Yes.

01:31:46.000 --> 01:31:47.000
They still do it?

01:31:47.000 --> 01:31:48.000
Yeah.

01:31:48.000 --> 01:31:51.000
That means Google is not that successful, right?

01:31:51.000 --> 01:31:54.000
But here's an idea how to fix it.

01:31:54.000 --> 01:31:56.000
This is called trust rank.

01:31:56.000 --> 01:32:00.000
And it's based on concept of what's called spam mass.

01:32:00.000 --> 01:32:02.000
So we want to combat this.

01:32:02.000 --> 01:32:04.000
So this is called linked spam.

01:32:04.000 --> 01:32:05.000
Okay?

01:32:05.000 --> 01:32:08.000
How do you combat this?

01:32:08.000 --> 01:32:12.000
Well, one way is that you know where the spam farms are.

01:32:12.000 --> 01:32:14.000
You blacklist them.

01:32:14.000 --> 01:32:19.000
But of course they're not going to announce themselves publicly.

01:32:19.000 --> 01:32:20.000
Okay?

01:32:20.000 --> 01:32:23.000
So that doesn't always work.

01:32:23.000 --> 01:32:29.000
But the other way would be teleporting only to trusted pages.

01:32:29.000 --> 01:32:33.000
This one here you're teleporting to all these pages.

01:32:33.000 --> 01:32:35.000
Even the farm pages.

01:32:35.000 --> 01:32:38.000
But maybe they're not trusted.

01:32:38.000 --> 01:32:44.000
So somehow you have to find out what are trusted pages.

01:32:44.000 --> 01:32:47.000
And you teleport mostly to them.

01:32:47.000 --> 01:32:50.000
Okay?

01:32:50.000 --> 01:32:56.000
And the idea is it's very rare for a good page, a non-cheating page,

01:32:56.000 --> 01:32:58.000
to point to a spam page.

01:32:58.000 --> 01:33:02.000
These spam pages tend to be hidden inside linked farms.

01:33:02.000 --> 01:33:03.000
Okay?

01:33:03.000 --> 01:33:08.000
So you change your teleport set, again, to be not everybody,

01:33:08.000 --> 01:33:10.000
but trusted pages.

01:33:10.000 --> 01:33:15.000
So it's a variation of topic to specific patron.

01:33:15.000 --> 01:33:17.000
Okay?

01:33:17.000 --> 01:33:21.000
So you do a trust computation.

01:33:21.000 --> 01:33:25.000
You start from trusted pages and you compute trust.

01:33:25.000 --> 01:33:29.000
And you split trust across the outline of the names.

01:33:29.000 --> 01:33:33.000
And the degree of trust, so you have some pages trusted at.

01:33:33.000 --> 01:33:36.000
What a New York Times trusted page.

01:33:36.000 --> 01:33:39.000
The degree of trust decreases with the distance.

01:33:39.000 --> 01:33:42.000
So there's some way of distributing trust.

01:33:42.000 --> 01:33:45.000
Okay?

01:33:45.000 --> 01:33:47.000
So this is not that easy.

01:33:47.000 --> 01:33:52.000
Because you can't actually inspect all the pages manually.

01:33:52.000 --> 01:33:55.000
You want to have a lot of pages that are trusted.

01:33:55.000 --> 01:33:57.000
The more the better.

01:33:57.000 --> 01:33:59.000
But you have to make sure they're trusted.

01:33:59.000 --> 01:34:02.000
So how do you do that?

01:34:02.000 --> 01:34:05.000
Well, one way is just page rank itself.

01:34:05.000 --> 01:34:12.000
Usually the top pages produced by page rank are okay.

01:34:12.000 --> 01:34:18.000
Because the linked farms, they can't actually push the page up so high.

01:34:18.000 --> 01:34:24.000
Or you have certain domains where you know that it's trusted.

01:34:24.000 --> 01:34:28.000
The dot edu domain is universities, for example.

01:34:28.000 --> 01:34:33.000
Or government pages, Hart-Milston, for example.

01:34:33.000 --> 01:34:35.000
Okay?

01:34:35.000 --> 01:34:41.000
And all pages below the threshold are marked as spam.

01:34:41.000 --> 01:34:46.000
But that's still not really good enough.

01:34:46.000 --> 01:34:52.000
So the way that it's done in the trust rank model

01:34:52.000 --> 01:34:56.000
is you have this concept called spam mass.

01:34:56.000 --> 01:34:59.000
So you start with this green trusted set of pages.

01:34:59.000 --> 01:35:03.000
And you want to say, and this is the page you're looking at.

01:35:03.000 --> 01:35:06.000
And then you're looking at the page rank of this page.

01:35:06.000 --> 01:35:11.000
And you want to say, how much of this page rank is coming from spam?

01:35:11.000 --> 01:35:15.000
How much is coming from trusted pages?

01:35:15.000 --> 01:35:17.000
Okay?

01:35:17.000 --> 01:35:18.000
So there's some kind of estimate.

01:35:18.000 --> 01:35:20.000
We don't really know.

01:35:20.000 --> 01:35:24.000
RP is the page rank of page P.

01:35:24.000 --> 01:35:32.000
RP plus is the page rank of P when you teleport into trusted pages only.

01:35:32.000 --> 01:35:37.000
And then RP minus is the difference between the two.

01:35:37.000 --> 01:35:39.000
And this is called the spam mass.

01:35:39.000 --> 01:35:46.000
How much of the page rank comes from spam pages?

01:35:46.000 --> 01:35:48.000
Okay?

01:35:48.000 --> 01:35:55.000
So a fraction of the page rank is coming from spam pages.

01:35:55.000 --> 01:35:57.000
So pages with high spam mass are spam.

01:35:57.000 --> 01:35:59.000
You throw them out.

01:35:59.000 --> 01:36:00.000
Okay?

01:36:00.000 --> 01:36:03.000
So even pages that are not in the trusted set,

01:36:03.000 --> 01:36:07.000
you can keep them if they have low spam mass.

01:36:07.000 --> 01:36:09.000
Okay?

01:36:09.000 --> 01:36:14.000
So this kind of idea, you have to do this

01:36:14.000 --> 01:36:18.000
to not be killed by big farms.

01:36:18.000 --> 01:36:20.000
Okay?

01:36:20.000 --> 01:36:22.000
So this is one approach.

01:36:22.000 --> 01:36:25.000
The question, what does Google do today?

01:36:25.000 --> 01:36:29.000
It's not really known except for some people working at Google.

01:36:29.000 --> 01:36:31.000
It's kind of a secret.

01:36:31.000 --> 01:36:33.000
And that helps them, of course,

01:36:33.000 --> 01:36:38.000
because it's hard to cheat if you don't know the algorithm.

01:36:38.000 --> 01:36:39.000
Okay?

01:36:39.000 --> 01:36:43.000
So let me now just summarize the page rank.

01:36:43.000 --> 01:36:46.000
Page rank is one of many powerful techniques.

01:36:46.000 --> 01:36:48.000
It's a kind of random block.

01:36:48.000 --> 01:36:50.000
So we looked how that works.

01:36:50.000 --> 01:36:53.000
We represented it with matrices.

01:36:53.000 --> 01:36:58.000
So it's the constant eigenvalue eigenvectors can help us,

01:36:58.000 --> 01:37:01.000
okay, for understanding it.

01:37:01.000 --> 01:37:05.000
I showed a little bit of the history.

01:37:05.000 --> 01:37:07.000
That is the problems.

01:37:07.000 --> 01:37:09.000
The matrices are very big.

01:37:09.000 --> 01:37:11.000
So how do you handle huge matrices?

01:37:11.000 --> 01:37:14.000
How do you handle topics specific?

01:37:14.000 --> 01:37:20.000
So there's a narrowing to topics specific, teleports specific topics.

01:37:20.000 --> 01:37:23.000
You can also use it for finding similar nodes.

01:37:23.000 --> 01:37:25.000
And you can spam it.

01:37:25.000 --> 01:37:29.000
So I showed you how linked farms work.

01:37:29.000 --> 01:37:31.000
They can increase the page rank.

01:37:31.000 --> 01:37:35.000
But you can combat that using algorithms such as trust rank

01:37:35.000 --> 01:37:38.000
to estimate spam mass.

01:37:38.000 --> 01:37:43.000
And so the linked farms won't kill you.

01:37:43.000 --> 01:37:44.000
Okay.

01:37:44.000 --> 01:37:46.000
So let me end there.

01:37:46.000 --> 01:37:52.000
So that gives you some idea of all of the stuff going on around the page rank.

01:37:52.000 --> 01:37:55.000
So, of course, the page rank is very important.

01:37:55.000 --> 01:37:57.000
It was a key invention.

01:37:57.000 --> 01:38:01.000
It's what made Google rich at base.

01:38:01.000 --> 01:38:06.000
And the step after that was the advertising.

01:38:06.000 --> 01:38:10.000
It was targeted advertising with the generalized second price.

01:38:10.000 --> 01:38:15.000
So that and page rank is what Google made their empire out of.

01:38:15.000 --> 01:38:16.000
Okay.

