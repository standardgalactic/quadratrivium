start	end	text
0	5760	Given a particular matrix if you want to compute its trace, you will be basically adding up the
5760	13440	diagonal entries. But this is quite an algebraic approach in thinking about trace. Can we visualize
13440	19440	what's really happening when we add these diagonal entries? The visualization will also
19440	26080	explain many properties of trace you might have seen. There is one particular property that I'm
26080	33440	saving for the end of the video series, which is traceab equals traceba. However,
33440	41280	in the majority of cases where one of a or b is invertible, we can derive it using one of the other
41280	48960	properties. But in any case, let's start the visualization. At the end of the previous video,
48960	54480	we have described a matrix as a vector field. Let's expand on that a little bit.
55200	61520	If you are given a matrix a, then the vector field would be constructed by attaching every
61520	69520	point with position vector x by the vector ax. A little note on the illustration on screen here.
70240	76000	Technically, if this illustration really describes ax, then the vector field would
76000	82000	look very messy because some of the vectors would be too long. So the usual thing to do
82000	87040	is to standardize the lengths of the vectors, which will still give you the direction,
87600	94160	and if you really need the length, then add colors to indicate how long the vector should have been.
94960	100480	In particular, these two vectors are the important ones because they are the vectors
100480	108960	attached to the points 1, 0 and 0, 1 respectively. The vector attached to 1, 0 would be the first
108960	115120	column of A, while the vector attached to 0, 1 would be the second column of A.
116000	122720	With this visualization of matrices, the intuition for trace is just one sentence.
122720	128880	The trace of A is the divergence of this vector field created by the matrix A.
129840	135920	We are going to see what divergence is. Now I am aware that this has been talked about on YouTube,
136000	141840	but I want to be more quantitative, so bear with me if you already knew the visual intuition
141840	148960	of divergence. Given a particular vector field, we can define divergence at a point,
148960	156960	say this red dot. We now consider a very small region around this dot, and write down the area
156960	164720	of this small region. The next thing is to let every point in this small region evolve together
164720	172960	along the vector field. As you see, the area of this region changes. For divergence, we are
172960	180480	interested in thinking about how quickly the area changes initially, per area, as the area of the
180480	188480	initial region shrinks to 0. In this case, let's look at how the area evolves again. We can see
188480	195520	that it initially decreases, and in fact keeps decreasing along the way, so because the area
195520	203280	change is negative, we have the divergence at this red dot to also be negative. However,
203280	211200	one reminder is that this rate of area change is per area. In this case, if we compare the final
211200	218880	area with the initial area, we can record a change of negative 0.148 during the evolution.
219600	226720	Now, if we quadruple the initial area and again play the same game and let this area evolve
226720	235680	under the flow of the vector field, and this time, we record a change of negative 0.595 in area.
236320	244480	If we compare this change to the previous area change, this is exactly a factor of 4 accounting
244480	252480	for rounding errors in my computer simulation. So, in our intuition of divergence, the per area
252480	260160	part is very important. So that's the divergence part, but why is this related to the trace of
260160	266720	the matrix generating the vector field? Actually, the first question that comes up would be that the
266720	273680	divergence is a local property. This means that if we consider another point on the vector field,
273680	280320	the divergence could be different. So, why does this statement seem like the divergence is the
280320	287360	same everywhere? Well, it's because it is, but just in this specific case, where everything is
287440	294880	generated by the matrix A. To see why the divergence is the same everywhere, let's first denote this
294880	302720	point with its position vector x and any point within our small region around x to be x plus d
302720	311600	for small displacements d from x. Now, the vectors attached to those two points are A x and A x plus
311600	318160	d respectively. This means that the initial displacement between these two points is d,
318800	325440	and after a very short time epsilon, the displacement is increased by epsilon times
325440	332960	A d. Here, A d is the difference in their velocities or the rate where they drift apart.
333520	340720	However, notice that there is absolutely no x here. This result does not depend on x.
341760	348320	So, if we have this exact shape of the small region, let's illustrate it with just three points,
348320	353280	each with displacements d i from the point we try to compute the divergence of.
354480	362080	After a short epsilon period of time, the displacements are changed to d i plus epsilon
362080	371360	A d i. But these are independent of our position. So, even if we have this initial region elsewhere,
371920	380080	we will still have the exact same shape after time epsilon. The change in area is the same
380080	387600	everywhere. Because the divergence is the area change per area, divergence is the same
387600	394880	everywhere in this case. This also means we can choose a convenient region to see how its area
394880	402320	changes, and this region doesn't have to be infinitesimal either. This is because if we chop
402320	410640	any normal region into very small ones, then from our intuition of divergence, each small region U i
411200	420400	has its area changed from A i to A i times 1 plus epsilon times divergence after time epsilon.
421120	428720	Most importantly, we know now that divergence is the same across all these regions. So, for the
428720	436720	entire region U, which has its area being the sum of these small regions, would also scale by the
436720	444560	same factor of 1 plus epsilon times divergence. Since we can basically choose any region to see
444560	453120	how the area evolves, a convenient choice is the unit square containing points 1 0 and 0 1,
453120	459680	as the initial area would automatically be 1. So, we focus on the rate of area change.
460880	468880	If we suppose that A is the square matrix A, B, C, D, then as said before, the vector attached
468880	476800	to 1 0 would be the first column A, C, and the vector attached to 0 1 would be the second column,
476800	486800	B, D. Let's focus on the point 1 0 and its attached vector A, C. Here, its vertical component doesn't
486800	493520	really matter here, because it doesn't change the area of the region. The base and height of the
493520	500080	parallelogram have not changed. So, the vertical component doesn't matter, but what about the
500080	509200	horizontal component? This time, it matters. The area has changed. The rate of change here is given
509200	517200	by precisely the horizontal component of the attached vector, which is A. You can run a very
517280	524480	similar argument on the other point 0 1 here. This time, the horizontal component does not matter,
524480	530880	because again, the area wouldn't change in that case, and the vertical component provides the
530880	540320	change in area. In this case, the vertical component is D. So, altogether, the rate of change in area
540320	548560	would be A plus D, which is exactly the sum of the diagonal entries of the matrix A. So,
548560	555120	we have demonstrated that trace is really the divergence of the vector field. Now,
555120	561200	if you are not convinced by these horizontal component or vertical component arguments,
561200	568560	all we are doing is computing the determinant of this slightly different matrix. The first column
568560	576560	is where the point 1 0 moves to after time epsilon with this velocity A C. Similarly,
576560	584480	the second column is where the point 0 1 moves to after time epsilon with the velocity B D.
585440	591840	If you actually compute this determinant, then we see that this is really the rate of change
591840	599200	of the area. That is also the trace. Anyway, the fact that trace is just the divergence of the
599200	606720	vector field is very useful for understanding the many properties of trace, and these properties
606720	613840	one by one would be the focus of the video from this point onwards. Let's first start with why
613840	621840	trace is the sum of eigenvalues. When visualizing matrices this way with vector fields, if the
621840	630000	position vector x is an eigenvector of A, then the vector attached to it, which is A x, would face
630000	637200	the same or opposite direction as the position vector. In fact, once you are on this line,
637200	643120	you will stay on this line because the position and velocity vectors are both on this line.
644080	648560	In the case where there are two such lines, where the position vector and the velocity
648560	654960	vector attached are on the same line, then to investigate the divergence of the vector field
654960	662560	and hence the trace, one convenient choice of region is a parallelogram aligned with these two
662560	669680	lines. Let's label the two lines by their eigenvalues lambda 1 and lambda 2 respectively.
670400	678480	And let's say the side lengths of the parallelogram are A and B. Focus on this corner of the
678480	685440	parallelogram. The length of the vector attached to it should be lambda 1A. That's because on
685440	693760	this line, every position vector satisfies A x equals lambda 1 x. Since the position vector has
693760	701920	length A in our notation, the vector attached to it should be with length lambda 1A. So after a
701920	709440	very short time epsilon, we should have an extra length of epsilon lambda 1A along this line.
710240	714480	Using the same argument on the other corner of the parallelogram,
714480	721680	the extra length on the other line would be epsilon lambda 2B after time epsilon.
722400	729920	In this illustration, lambda 2 is negative, so the so-called extra length is actually length
729920	736080	lost. So after a short time epsilon, the length along this lambda 2 line would be
736640	745760	B x 1 plus epsilon lambda 2, and similarly the length along the lambda 1 line would be A x 1
745760	754160	plus epsilon lambda 1. The new area is the product of the side lengths and sine theta,
754160	762400	where theta is the angle between these two lines. Compare this with the old area, which is AB sine
762400	769120	theta. If we now compute the divergence of this vector field, which is the rate of area change
769120	776880	per area, then we would have this expression, which is new area minus the old area over the
776880	785360	time period of epsilon, divided by the initial area, which is AB sine theta. If you really compute
785360	794880	this, we would have lambda 1 plus lambda 2 plus a small bit involving epsilon. However, as epsilon
794880	800800	tends to zero, then the epsilon bit does not contribute, and we are left with the sum of
800800	808960	eigenvalues. So the trace is the sum of the eigenvalues in this illustration. So this is the
808960	816320	first property of trace. The next property has something to do with the exponential of matrices,
816320	823520	which I have described in the previous video as well. Essentially, given a vector field created by
823520	832080	the matrix A, the flow of this point with position vector x along the vector field is precisely given
832080	839280	by e to the ta applied to x, where t is the time elapsed when you flow along the field.
840000	847040	The determinant of a matrix is the scale factor of this unit square under the matrix transformation.
847680	854240	Applying the matrix e to the ta to this square is equivalent to letting the region flow along the
854240	861440	vector field, so the area of whatever we end up with is the determinant of the matrix exponential.
862160	868560	And we actually know how the areas evolve along this vector flow. Let's denote the area of this
868560	877280	region as s of t, which depends on time elapsed along the vector field. The trace of a is the rate
877280	883360	of area change per area, with the rate of change in area being the derivative of s,
884000	893040	and the area being s of t itself. By rearranging this formula, we obtain a differential equation
893120	900880	in s. Note that the trace of a does not depend on t, it is a constant, so the determinant s of t
900880	909520	can be solved as e to the t times trace of a. This neatly explains why the determinant of the
909520	917840	exponential matrix is the exponential of trace. Now let's go to the property that the trace is
917840	925120	independent of basis vectors. Given the matrix a, as usual we consider the vector field
925120	931600	generated. This time, we apply a linear transformation q to the whole picture.
932400	939360	In general, where the vectors emanate from would change, and the vectors attached would also change.
939920	949280	More specifically, what had been x is now transformed to qx, and what used to be ax is now
949280	957120	qax. This one needs a bit of explanation. Initially, the attached vector to the point x
957120	965680	is going from point x to x plus ax, so when we apply the transformation q on the whole picture,
965760	975840	then the attached vector goes from qx to qx plus qax, so this attached vector is qax.
976960	986080	Now let's call this new position vector y, then in terms of y, the attached vector is qa
986080	996560	qinverse y, if q is invertible. So for any position vector y, the attached vector is qa qinverse y,
996560	1004320	which suggests that this is actually the vector field of another matrix, qa qinverse.
1005280	1011840	Now the trace is the rate of change in area per area, but in applying q to the whole thing,
1012480	1019600	all areas scale by the determinant of q, and this factor of determinant cancels
1019600	1028720	when we consider the quotient. So in other words, the trace of a equals the trace of qa qinverse,
1029280	1036400	or if you want to go for the usual change of basis formula p inverse ap, simply substitute the matrix
1036400	1045200	q as p inverse. Using this relation, we are able to derive another famous property of trace,
1045200	1053040	which starts from rewriting trace of ab. If b is invertible, then we can simply add in
1053040	1061280	b inverse b, and the expression stays the same. However, written like this, we can use the property
1061280	1069680	we just derived, and then we can obtain, it is the trace of ba. Now this property of trace
1069680	1077200	is perhaps more well known, but we have done a bit of algebra to get here. There is a better way,
1077200	1083200	but we will need to introduce the concept of lee bracket, a story for another time.
1084000	1090480	So we can obtain this property of trace by transforming the whole plane by p inverse,
1090480	1098000	and the final property we will see is this perhaps less famous formula. This formula is known as
1098000	1106080	Jacobi's formula for a matrix A that depends on time t. Well technically, this is only true if
1106080	1113200	a of t in this formula is invertible, because there is a inverse in the formula. A more general
1113200	1120640	formula involves the adjoint matrix, which is defined even if a is not invertible. But for the
1120640	1128320	purpose of visualization, we are going to assume a is invertible and try to understand this formula
1128320	1136080	first. First off, what does the left hand side really mean? The determinant can refer to the area
1136080	1145120	of a parallelogram, described by a of t acting on the two basis vectors. This area will change
1145120	1154800	because a itself evolves with time. In fact, these points would also change as a changes. The rate at
1154800	1163200	which these corners move is exactly a prime of t acting on the basis vectors. If we can somehow
1163200	1171120	make this into a whole vector field generated by the matrix m, then we know how the area evolves.
1171120	1179040	Specifically, we know that the trace of m is the rate of area change per area. In this case,
1179040	1186160	the rate of area change is the derivative of determinant of a, and the area is of course
1186720	1194000	just the determinant of a itself. So, if we rearrange this, then we have something that
1194000	1201520	really looks like the Tobi formula. The problem now is, what is m? What is the matrix m that
1201520	1208880	generates this vector field? Now, particularly at the points a of t acting on the basis vectors,
1208880	1215520	we know what the vectors attached should be. To go from the position vectors to the attached
1215520	1224240	vectors, we can simply apply a prime a inverse on the position vectors. So, the matrix m we are
1224240	1232880	looking for is a prime a inverse. If we go back to what we have obtained previously about derivative
1232880	1242240	of determinant, we simply substitute the matrix m to be a prime a inverse. This is almost the same
1242240	1248880	as Jacobi's formula, just that the matrix in the trace has the other order in multiplication,
1249520	1256400	a inverse before a prime here. Don't worry, there are two approaches here. Either use the
1256400	1265120	property we discovered that trace a b equals trace b a for a or b being invertible, or similar to how
1265120	1273200	we dealt with the previous property, we just apply a inverse to the whole picture. In that case,
1273200	1281040	the corners of the parallelogram go back to the standard places 1 0 and 0 1, but the vectors
1281040	1289200	attached to these places are a inverse a prime acting on the basis vectors. This is because
1289200	1296480	previously they were just a prime acting on them, but we have applied a inverse to the whole picture.
1297280	1305200	This means that the matrix generating the vector field would be a inverse a prime, and the matrix
1305200	1312480	m to be put into the formula that we derived previously would be a inverse a prime. And
1312480	1319040	this is exactly the Jacobi's formula where the matrices in the trace are in the right order.
1319520	1328240	a inverse a prime. So this is the Jacobi's formula derived in the case when a is invertible. We are
1328240	1336000	able to derive and understand many properties of trace visually by thinking of trace as divergence,
1336000	1342880	or the rate of area change per area, when the area evolves along the vector field.
1343600	1347520	As always, thanks for the patrons and please like,
1347520	1360240	subscribe, comment so that more people can watch it. See you next time.
